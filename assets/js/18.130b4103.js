(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{381:function(t,a,n){"use strict";n.r(a);var s=n(19),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"基础"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础"}},[t._v("#")]),t._v(" 基础")]),t._v(" "),n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),n("p",[t._v("地址： "),n("a",{attrs:{href:"http://nginx.org/en/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://nginx.org/en/download.html"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image",width:"800",height:"500","data-src":"/blog/img/be/nginx_download.png",loading:"lazy"}})]),t._v(" "),n("p",[t._v("Mainline version：最新版本")]),t._v(" "),n("p",[t._v("Stable version：稳定版，生产环境上建议使用这个版本")]),t._v(" "),n("p",[t._v("Legacy versions：历史版本")]),t._v(" "),n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),n("p",[t._v("Nginx就是反向代理服务器。")]),t._v(" "),n("p",[t._v("代理服务器一般是指局域网内部的机器通过代理服务发送请求到互联网上的服务器，代理服务器一般作用于客户端。")]),t._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":"/blog/img/be/nginx1.png",loading:"lazy"}})]),t._v(" "),n("p",[t._v("简单的说：")]),t._v(" "),n("p",[t._v("正向代理：客户端知道服务器端，通过代理端连接服务器端。代理端代理的是服务器端。")]),t._v(" "),n("p",[t._v("反向代理：服务器端知道客户端，客户端不知道服务器端，通过代理端连接服务器端。代理端代理的是客户端，代理对象刚好相反，所以叫反向代理。")]),t._v(" "),n("h2",{attrs:{id:"设置windows下nginx开机自启"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置windows下nginx开机自启"}},[t._v("#")]),t._v(" 设置windows下nginx开机自启")]),t._v(" "),n("p",[t._v("首先下载winsw工具")]),t._v(" "),n("p",[t._v("地址："),n("a",{attrs:{href:"http://repo.jenkins-ci.org/releases/com/sun/winsw/winsw/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.jenkins-ci.org/releases/com/sun/winsw/winsw/"),n("OutboundLink")],1),n("br"),t._v("\n例如下载V2.9.0则选择winsw-2.9.0-net4.exe")]),t._v(" "),n("p",[t._v("或者 "),n("a",{attrs:{href:"https://github.com/winsw/winsw/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/winsw/winsw/releases"),n("OutboundLink")],1),t._v(" ，选择WinSW.NET4.exe  表示64位")]),t._v(" "),n("p",[t._v("将下载的winsw移动到nginx的安装目录,并将winsw工具改名为nginx-service.exe")]),t._v(" "),n("p",[t._v("然后在nginx安装目录下新建文件nginx-service.xml，logpath标签里设置Nginx的安装位置")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("nginx"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("nginx"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("nginx"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("logpath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("D:\\nginx-1.19.0"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("logpath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("logmode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("roll"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("logmode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("depend")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("depend")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("executable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("D:\\nginx-1.19.0\\nginx.exe"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("executable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("stopexecutable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("D:\\nginx-1.19.0\\nginx.exe -s stop"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("stopexecutable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("打开cmd，进入Nginx安装目录，输入nginx-service.exe install ，将其注册为Windows服务。")]),t._v(" "),n("p",[t._v("然后运行 nginx-service.exe start 启动服务")]),t._v(" "),n("p",[t._v("win+R输入service.msc打开系统服务，查看Nginx服务，启动类型为自动即成功开启服务。")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("nginx-service.exe "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("      注册对应的系统服务\nnginx-service.exe uninstall    删除对应的系统服务\nnginx-service.exe stop         停止对应的系统服务\nnginx-service.exe start        启动对应的系统服务\n")])])]),n("h2",{attrs:{id:"配置nginx-conf文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx-conf文件"}},[t._v("#")]),t._v(" 配置nginx.conf文件")]),t._v(" "),n("p",[t._v("在http/server里添加如下内容，")]),t._v(" "),n("div",{staticClass:"language-conf extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('location / {\n    #root   D:\\dist;\n    #index  index.html index.htm;\n}\nlocation /services/tilt {\n    alias   D:\\data;\n    add_header Access-Control-Allow-Origin *;\n    add_header Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept";\n    add_header Access-Control-Allow-Methods "GET, POST, OPTIONS";\n    fastcgi_hide_header Cache-Control;\n    proxy_hide_header Cache-Control;\n    add_header Cache-Control private;\n    fastcgi_hide_header Pragma;\n    proxy_hide_header Pragma;\n}\ngzip  on;\ngzip_min_length 1k;\ngzip_buffers 4 16k;\ngzip_http_version 1.0;\ngzip_comp_level 2;\ngzip_types text/plain application/javascript application/css application/json text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;\ngzip_vary off;\ngzip_disable "MSIE [1-6]\\.";\n')])])]),n("blockquote",[n("p",[n("strong",[t._v("alias D:\\data")]),t._v(" 指定文件路径，即本地要托管的数据")])]),t._v(" "),n("p",[t._v("启动nginx，比如要模拟生产环境，将项目打包后的文件托管到nginx服务，打开"),n("a",{attrs:{href:"http://127.0.0.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1"),n("OutboundLink")],1),t._v("即可查看。")]),t._v(" "),n("p",[t._v("打开"),n("a",{attrs:{href:"http://127.0.0.1/services/tilt/yizhuang/tileset.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1/services/tilt/yizhuang/tileset.json"),n("OutboundLink")],1),t._v(" 即可看到D盘里data文件夹下的数据。")]),t._v(" "),n("p",[t._v("此处"),n("a",{attrs:{href:"http://127.0.0.1/services/tilt",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1/services/tilt"),n("OutboundLink")],1),t._v("是nginx暴露出去的路径，后边的/yizhuang/tileset.json 是由D:\\data里的内容决定的")])])}),[],!1,null,null,null);a.default=e.exports}}]);