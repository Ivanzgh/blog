import{_ as s,c as a,o as n,a as l}from"./app.38368cd2.js";const u=JSON.parse('{"title":"MongoDB","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u7B80\u4ECB","slug":"\u7B80\u4ECB","link":"#\u7B80\u4ECB","children":[]},{"level":2,"title":"\u539F\u5B50\u64CD\u4F5C","slug":"\u539F\u5B50\u64CD\u4F5C","link":"#\u539F\u5B50\u64CD\u4F5C","children":[{"level":3,"title":"$set","slug":"set","link":"#set","children":[]},{"level":3,"title":"$inc","slug":"inc","link":"#inc","children":[]},{"level":3,"title":"$unset","slug":"unset","link":"#unset","children":[]},{"level":3,"title":"$push","slug":"push","link":"#push","children":[]},{"level":3,"title":"$pushAll","slug":"pushall","link":"#pushall","children":[]},{"level":3,"title":"$pull","slug":"pull","link":"#pull","children":[]},{"level":3,"title":"$addToSet","slug":"addtoset","link":"#addtoset","children":[]},{"level":3,"title":"$pop","slug":"pop","link":"#pop","children":[]},{"level":3,"title":"$rename","slug":"rename","link":"#rename","children":[]}]},{"level":2,"title":"\u5E38\u89C1\u95EE\u9898","slug":"\u5E38\u89C1\u95EE\u9898","link":"#\u5E38\u89C1\u95EE\u9898","children":[{"level":3,"title":"\u7AEF\u53E3\u5360\u7528","slug":"\u7AEF\u53E3\u5360\u7528","link":"#\u7AEF\u53E3\u5360\u7528","children":[]}]}],"relativePath":"fe/node/mongodb.md","lastUpdated":1662180954000}'),e={name:"fe/node/mongodb.md"},p=l(`<h1 id="mongodb" tabindex="-1">MongoDB <a class="header-anchor" href="#mongodb" aria-hidden="true">#</a></h1><p>\u5B98\u7F51\u6587\u6863\uFF1A<a href="https://docs.mongodb.com" target="_blank" rel="noreferrer">https://docs.mongodb.com</a></p><p>\u4E2D\u6587\u6587\u6863\uFF1A<a href="http://www.mongodb.org.cn/" target="_blank" rel="noreferrer">http://www.mongodb.org.cn/</a></p><p>mongoose \u6587\u6863\uFF1A<a href="https://mongoosejs.com/docs/index.html" target="_blank" rel="noreferrer">https://mongoosejs.com/docs/index.html</a></p><h2 id="\u7B80\u4ECB" tabindex="-1">\u7B80\u4ECB <a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a></h2><p>MongoDB \u662F\u4E00\u4E2A\u57FA\u4E8E\u5206\u5E03\u5F0F\u6587\u4EF6\u5B58\u50A8\u7684\u6570\u636E\u5E93\u3002\u7531 C++\u8BED\u8A00\u7F16\u5199\u3002\u65E8\u5728\u4E3A WEB \u5E94\u7528\u63D0\u4F9B\u53EF\u6269\u5C55\u7684\u9AD8\u6027\u80FD\u6570\u636E\u5B58\u50A8\u89E3\u51B3\u65B9\u6848\u3002</p><p>MongoDB \u662F\u4E00\u4E2A\u4ECB\u4E8E\u5173\u7CFB\u6570\u636E\u5E93\u548C\u975E\u5173\u7CFB\u6570\u636E\u5E93(nosql)\u4E4B\u95F4\u7684\u4EA7\u54C1\uFF0C\u662F\u975E\u5173\u7CFB\u6570\u636E\u5E93\u5F53\u4E2D\u529F\u80FD\u6700\u4E30\u5BCC\uFF0C\u6700\u50CF\u5173\u7CFB\u6570\u636E\u5E93\u7684\u3002</p><h2 id="\u539F\u5B50\u64CD\u4F5C" tabindex="-1">\u539F\u5B50\u64CD\u4F5C <a class="header-anchor" href="#\u539F\u5B50\u64CD\u4F5C" aria-hidden="true">#</a></h2><h3 id="set" tabindex="-1">$set <a class="header-anchor" href="#set" aria-hidden="true">#</a></h3><p>\u7528\u6765\u6307\u5B9A\u4E00\u4E2A\u952E\u5E76\u66F4\u65B0\u952E\u503C\uFF0C\u82E5\u952E\u4E0D\u5B58\u5728\u5219\u521B\u5EFA\u3002</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> { title, content, contentText, category } </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> req.body</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> data </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">await</span><span style="color:#F8F8F2;"> article.</span><span style="color:#50FA7B;">findById</span><span style="color:#F8F8F2;">(id)</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> updateData </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">await</span><span style="color:#F8F8F2;"> data.</span><span style="color:#50FA7B;">update</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  $set</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    title,</span></span>
<span class="line"><span style="color:#F8F8F2;">    content,</span></span>
<span class="line"><span style="color:#F8F8F2;">    contentText,</span></span>
<span class="line"><span style="color:#F8F8F2;">    category</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre></div><h3 id="inc" tabindex="-1">$inc <a class="header-anchor" href="#inc" aria-hidden="true">#</a></h3><p>\u5BF9\u6587\u6863\u7684\u67D0\u4E2A\u503C\u4E3A\u6570\u5B57\u578B\uFF08\u53EA\u80FD\u4E3A\u6EE1\u8DB3\u8981\u6C42\u7684\u6570\u5B57\uFF09\u7684\u952E\u8FDB\u884C\u589E\u51CF\u3002</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> data </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">await</span><span style="color:#F8F8F2;"> article.</span><span style="color:#50FA7B;">findOneAndUpdate</span><span style="color:#F8F8F2;">({_id</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> id},</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        $inc</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {looknums</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">&lt;!--</span><span style="color:#F8F8F2;">\u9605\u8BFB\u91CF\u6BCF\u6B21\u589E\u52A01</span><span style="color:#FF79C6;">--&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">&lt;!--</span><span style="color:#F8F8F2;">\u82E5\u9700\u8981\u51CF\u5C111\uFF0C\u53EF\u5199\u6210 $inc: {looknums</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">}</span><span style="color:#FF79C6;">--&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">res.</span><span style="color:#50FA7B;">json</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">    code</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">200</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    data</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> data,</span></span>
<span class="line"><span style="color:#F8F8F2;">    msg</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u9605\u8BFB\u91CF\u4FEE\u6539\u6210\u529F</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre></div><h3 id="unset" tabindex="-1">$unset <a class="header-anchor" href="#unset" aria-hidden="true">#</a></h3><p>\u7528\u6765\u5220\u9664\u4E00\u4E2A\u952E\u3002</p><h3 id="push" tabindex="-1">$push <a class="header-anchor" href="#push" aria-hidden="true">#</a></h3><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  $push: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    field: value</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre></div><p>\u628A value \u8FFD\u52A0\u5230 field \u91CC\u9762\u53BB\uFF0Cfield \u4E00\u5B9A\u8981\u662F\u6570\u7EC4\u7C7B\u578B\u624D\u884C\uFF0C\u5982\u679C field \u4E0D\u5B58\u5728\uFF0C\u4F1A\u65B0\u589E\u4E00\u4E2A\u6570\u7EC4\u7C7B\u578B\u52A0\u8FDB\u53BB\u3002</p><h3 id="pushall" tabindex="-1">$pushAll <a class="header-anchor" href="#pushall" aria-hidden="true">#</a></h3><p>\u540C$push,\u53EA\u662F\u4E00\u6B21\u53EF\u4EE5\u8FFD\u52A0\u591A\u4E2A\u503C\u5230\u4E00\u4E2A\u6570\u7EC4\u5B57\u6BB5\u5185\u3002</p><h3 id="pull" tabindex="-1">$pull <a class="header-anchor" href="#pull" aria-hidden="true">#</a></h3><p>\u4ECE\u6570\u7EC4 field \u5185\u5220\u9664\u4E00\u4E2A\u7B49\u4E8E value \u503C\u3002</p><h3 id="addtoset" tabindex="-1">$addToSet <a class="header-anchor" href="#addtoset" aria-hidden="true">#</a></h3><p>\u589E\u52A0\u4E00\u4E2A\u503C\u5230\u6570\u7EC4\u5185\uFF0C\u800C\u4E14\u53EA\u6709\u5F53\u8FD9\u4E2A\u503C\u4E0D\u5728\u6570\u7EC4\u5185\u624D\u589E\u52A0\u3002</p><h3 id="pop" tabindex="-1">$pop <a class="header-anchor" href="#pop" aria-hidden="true">#</a></h3><p>\u5220\u9664\u6570\u7EC4\u7684\u7B2C\u4E00\u4E2A\u6216\u6700\u540E\u4E00\u4E2A\u5143\u7D20</p><h3 id="rename" tabindex="-1">$rename <a class="header-anchor" href="#rename" aria-hidden="true">#</a></h3><p>\u4FEE\u6539\u5B57\u6BB5\u540D\u79F0</p><h2 id="\u5E38\u89C1\u95EE\u9898" tabindex="-1">\u5E38\u89C1\u95EE\u9898 <a class="header-anchor" href="#\u5E38\u89C1\u95EE\u9898" aria-hidden="true">#</a></h2><h3 id="\u7AEF\u53E3\u5360\u7528" tabindex="-1">\u7AEF\u53E3\u5360\u7528 <a class="header-anchor" href="#\u7AEF\u53E3\u5360\u7528" aria-hidden="true">#</a></h3><p>\u62A5\u9519\u4FE1\u606F\uFF1A</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;"> Unclean full-time diagnostic data capture shutdown detected, found interim file, some metrics may have been lost. OK</span></span>
<span class="line"></span></code></pre></div><p>\u89E3\u51B3\u65B9\u6CD5\uFF1A\u627E\u5230\u9879\u76EE\u5B58\u653E data \u7684\u5730\u65B9\uFF0C\u5220\u9664<code>diagnostic.data</code>\u6587\u4EF6\u5939\u5373\u53EF</p>`,34),o=[p];function t(c,r,F,i,d,h){return n(),a("div",null,o)}const g=s(e,[["render",t]]);export{u as __pageData,g as default};
