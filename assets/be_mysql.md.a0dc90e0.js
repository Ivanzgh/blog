import{_ as s,c as a,o as n,Q as l}from"./chunks/framework.f14b72c3.js";const m=JSON.parse('{"title":"Mysql","description":"","frontmatter":{},"headers":[],"relativePath":"be/mysql.md","lastUpdated":1688050449000}'),p={name:"be/mysql.md"},e=l(`<h1 id="mysql" tabindex="-1">Mysql <a class="header-anchor" href="#mysql" aria-label="Permalink to &quot;Mysql&quot;">​</a></h1><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><p>最新版：<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noreferrer">https://dev.mysql.com/downloads/mysql/</a></p><p>选择版本：<a href="https://downloads.mysql.com/archives/community/" target="_blank" rel="noreferrer">https://downloads.mysql.com/archives/community/</a></p><h2 id="初始化" tabindex="-1">初始化 <a class="header-anchor" href="#初始化" aria-label="Permalink to &quot;初始化&quot;">​</a></h2><p>首先打开 cmd 进入 mysql 的 bin 目录下，安装服务</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dracula"><code><span class="line"><span style="color:#F8F8F2;">mysqld </span><span style="color:#BD93F9;">--install</span></span>
<span class="line"></span></code></pre></div><p>接着初始化 mysql，在最后一行会产生一个随机密码，要记住后面登录要用</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dracula"><code><span class="line"><span style="color:#F8F8F2;">mysqld </span><span style="color:#BD93F9;">--initialize</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">--console</span></span>
<span class="line"></span></code></pre></div><p>然后开启 mysql 服务</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dracula"><code><span class="line"><span style="color:#F8F8F2;">net </span><span style="color:#F1FA8C;">start</span><span style="color:#F8F8F2;"> </span><span style="color:#F1FA8C;">mysql</span></span>
<span class="line"></span></code></pre></div><blockquote><p>关闭服务 net stop mysql</p></blockquote><p>登录验证</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dracula"><code><span class="line"><span style="color:#F8F8F2;">mysql </span><span style="color:#BD93F9;">-u</span><span style="color:#F8F8F2;"> </span><span style="color:#F1FA8C;">root</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">-p</span></span>
<span class="line"></span></code></pre></div><p>修改密码</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dracula"><code><span class="line"><span style="color:#8BE9FD;">set</span><span style="color:#F8F8F2;"> </span><span style="color:#F1FA8C;">password</span><span style="color:#F8F8F2;"> </span><span style="color:#F1FA8C;">for</span><span style="color:#F8F8F2;"> </span><span style="color:#F1FA8C;">root@localhost=password</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">自己需要设置的密码</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span></code></pre></div><p>输入<code>exit</code>退出登录，使用新密码登录</p><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>在 mysql 目录下新建一个<code>my.ini</code>的配置文件，加入以下内容，注意安装目录和数据存放目录要修改</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki dracula"><code><span class="line"><span style="color:#F8F8F2;">[mysql]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 设置mysql客户端默认字符集</span></span>
<span class="line"><span style="color:#FF79C6;">default-character-set=</span><span style="color:#F8F8F2;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">[mysqld]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">#设置3306端口</span></span>
<span class="line"><span style="color:#FF79C6;">port</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> 3306</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 设置mysql的安装目录</span></span>
<span class="line"><span style="color:#FF79C6;">basedir=</span><span style="color:#F8F8F2;">C:\\mysql-5.7.30-winx64</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 设置mysql数据库的数据的存放目录</span></span>
<span class="line"><span style="color:#FF79C6;">datadir=</span><span style="color:#F8F8F2;">C:\\mysql-5.7.30-winx64\\data</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 允许最大连接数</span></span>
<span class="line"><span style="color:#FF79C6;">max_connections=</span><span style="color:#F8F8F2;">200</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 服务端使用的字符集默认为8比特编码的latin1字符集</span></span>
<span class="line"><span style="color:#FF79C6;">character-set-server=</span><span style="color:#F8F8F2;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 创建新表时将使用的默认存储引擎</span></span>
<span class="line"><span style="color:#FF79C6;">default-storage-engine=</span><span style="color:#F8F8F2;">INNODB</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="navicat-premium-导入-sql-文件" tabindex="-1">Navicat Premium 导入 sql 文件 <a class="header-anchor" href="#navicat-premium-导入-sql-文件" aria-label="Permalink to &quot;Navicat Premium 导入 sql 文件&quot;">​</a></h2><p>点击连接，选择要连接的数据库类型，连接名随意设置，主机填 localhost 或者远程的地址，端口、用户名、密码均是 mysql 设置的，点击测试连接 <img src="https://zghimg.oss-cn-beijing.aliyuncs.com/blog/1666418384.png" alt="image"></p><p>然后新建一个数据库，字符集选择 UTF-8 编码，然后右击新建的数据库，点击运行 SQL 文件即可</p><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h2><h3 id="安装服务时报错-无法启动此程序-因为计算机丢失-msvcp120-dll" tabindex="-1">安装服务时报错：无法启动此程序，因为计算机丢失 MSVCP120.dll <a class="header-anchor" href="#安装服务时报错-无法启动此程序-因为计算机丢失-msvcp120-dll" aria-label="Permalink to &quot;安装服务时报错：无法启动此程序，因为计算机丢失 MSVCP120.dll&quot;">​</a></h3><p>在执行<code>mysqld --install</code>时，若报丢失 MSVCP120.dll 错误，是因为没有安装<code>vcredist</code>， 在官网<a href="https://www.microsoft.com/zh-CN/download/details.aspx?id=40784" target="_blank" rel="noreferrer">https://www.microsoft.com/zh-CN/download/details.aspx?id=40784</a> 下载安装即可。</p><p>如果报 MSVCP140.dll 丢失错误，下载安装<a href="https://www.microsoft.com/zh-cn/download/details.aspx?id=48145" target="_blank" rel="noreferrer">https://www.microsoft.com/zh-cn/download/details.aspx?id=48145</a></p><h3 id="mysql-不允许外部主机连接解决方法" tabindex="-1">mysql 不允许外部主机连接解决方法 <a class="header-anchor" href="#mysql-不允许外部主机连接解决方法" aria-label="Permalink to &quot;mysql 不允许外部主机连接解决方法&quot;">​</a></h3><p>登录 mysql 后使用如下命令：</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki dracula"><code><span class="line"><span style="color:#F8F8F2;">use mysql</span><span style="color:#6272A4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">update user set </span><span style="color:#FF79C6;">host=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">%</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;"> where </span><span style="color:#FF79C6;">user=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">root</span><span style="color:#E9F284;">&#39;</span><span style="color:#6272A4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">select host,user from user</span><span style="color:#6272A4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">flush privileges</span><span style="color:#6272A4;">;</span></span>
<span class="line"></span></code></pre></div><p><img src="https://zghimg.oss-cn-beijing.aliyuncs.com/blog/1666418359.png" alt="image"></p>`,31),o=[e];function t(c,r,i,F,d,y){return n(),a("div",null,o)}const u=s(p,[["render",t]]);export{m as __pageData,u as default};
