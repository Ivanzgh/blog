import{_ as s,c as n,o as a,a as l}from"./app.38368cd2.js";const C=JSON.parse('{"title":"vue3","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u521B\u5EFA\u9879\u76EE","slug":"\u521B\u5EFA\u9879\u76EE","link":"#\u521B\u5EFA\u9879\u76EE","children":[{"level":3,"title":"vite","slug":"vite","link":"#vite","children":[]},{"level":3,"title":"@vue/cli","slug":"vue-cli","link":"#vue-cli","children":[]}]},{"level":2,"title":"\u7EC4\u5408 API","slug":"\u7EC4\u5408-api","link":"#\u7EC4\u5408-api","children":[{"level":3,"title":"ref\u3001reactive","slug":"ref\u3001reactive","link":"#ref\u3001reactive","children":[]}]},{"level":2,"title":"\u751F\u547D\u5468\u671F","slug":"\u751F\u547D\u5468\u671F","link":"#\u751F\u547D\u5468\u671F","children":[]},{"level":2,"title":"watch \u76D1\u542C","slug":"watch-\u76D1\u542C","link":"#watch-\u76D1\u542C","children":[]},{"level":2,"title":"\u8BA1\u7B97\u5C5E\u6027","slug":"\u8BA1\u7B97\u5C5E\u6027","link":"#\u8BA1\u7B97\u5C5E\u6027","children":[]},{"level":2,"title":"hooks","slug":"hooks","link":"#hooks","children":[]},{"level":2,"title":"\u586B\u5751\u8BB0\u5F55","slug":"\u586B\u5751\u8BB0\u5F55","link":"#\u586B\u5751\u8BB0\u5F55","children":[{"level":3,"title":"vue-router","slug":"vue-router","link":"#vue-router","children":[]}]}],"relativePath":"fe/vue/vue3.md","lastUpdated":1662180954000}'),p={name:"fe/vue/vue3.md"},o=l(`<h1 id="vue3" tabindex="-1">vue3 <a class="header-anchor" href="#vue3" aria-hidden="true">#</a></h1><h2 id="\u521B\u5EFA\u9879\u76EE" tabindex="-1">\u521B\u5EFA\u9879\u76EE <a class="header-anchor" href="#\u521B\u5EFA\u9879\u76EE" aria-hidden="true">#</a></h2><h3 id="vite" tabindex="-1">vite <a class="header-anchor" href="#vite" aria-hidden="true">#</a></h3><p>\u5148\u5B89\u88C5<code>vite</code>\uFF0C\u7136\u540E\u6309\u7167\u63D0\u793A\u64CD\u4F5C\u5373\u53EF</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;">npm init vite@latest</span></span>
<span class="line"></span></code></pre></div><h3 id="vue-cli" tabindex="-1">@vue/cli <a class="header-anchor" href="#vue-cli" aria-hidden="true">#</a></h3><p>\u9996\u5148\u5B89\u88C5\u6216\u66F4\u65B0<code>@vue/cli 4.5.7</code>\u7248\u672C\u53CA\u4EE5\u4E0A</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;">npm install -g @vue/cli</span></span>
<span class="line"></span></code></pre></div><p>\u521B\u5EFA\u4E00\u4E2A\u9879\u76EE\uFF0C\u540D\u79F0\u53EB <code>myvue3</code></p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;">vue create myvue3</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>\u5982\u679C\u5728<code>Windows</code>\u4E0A\u4F7F\u7528 <code>Git Bash</code>\uFF0C\u4EA4\u4E92\u63D0\u793A\u7B26\u5E76\u4E0D\u5DE5\u4F5C\u3002\u5FC5\u987B\u901A\u8FC7 <code>winpty vue.cmd create myvue3</code> \u542F\u52A8\u8FD9\u4E2A\u547D\u4EE4</p></div><p>\u9009\u62E9\u6A21\u677F\uFF0C\u5982\u679C\u642D\u914D <code>typescript</code>\uFF0C\u9700\u8981\u9009\u62E9\u6700\u540E\u4E00\u9879\u81EA\u5B9A\u4E49</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Please pick a preset: (Use arrow keys)</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> Default ([Vue 2] babel, eslint)</span></span>
<span class="line"><span style="color:#F8F8F2;">  Default (Vue 3 Preview) ([Vue 3] babel, eslint)</span></span>
<span class="line"><span style="color:#F8F8F2;">  Manually </span><span style="color:#FF79C6;">select</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">features</span></span>
<span class="line"></span></code></pre></div><p>\u9009\u62E9\u81EA\u5B9A\u4E49\u9009\u9879\uFF0C\u7BAD\u5934\u4E0A\u4E0B\u79FB\u52A8\uFF0C\u6309\u7A7A\u683C\u5373\u53EF\u9009\u62E9\uFF0C\u6700\u540E\u56DE\u8F66</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Check the features needed </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> your project: (Press </span><span style="color:#FF79C6;">&lt;</span><span style="color:#F8F8F2;">space</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> to select, </span><span style="color:#FF79C6;">&lt;</span><span style="color:#F8F8F2;">a</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> to toggle all, </span><span style="color:#FF79C6;">&lt;</span><span style="color:#F8F8F2;">i</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> to invert selection)</span></span>
<span class="line"><span style="color:#E9F284;">&gt;(</span><span style="color:#FF79C6;">*</span><span style="color:#E9F284;">)</span><span style="color:#F8F8F2;"> Choose Vue version</span></span>
<span class="line"><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">) Babel</span></span>
<span class="line"><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">) TypeScript</span></span>
<span class="line"><span style="color:#F8F8F2;"> ( ) Progressive Web App (PWA) Support</span></span>
<span class="line"><span style="color:#F8F8F2;"> ( ) Router</span></span>
<span class="line"><span style="color:#F8F8F2;"> ( ) Vuex</span></span>
<span class="line"><span style="color:#F8F8F2;"> ( ) CSS Pre-processors</span></span>
<span class="line"><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">) Linter / Formatter</span></span>
<span class="line"><span style="color:#F8F8F2;"> ( ) Unit Testing</span></span>
<span class="line"><span style="color:#F8F8F2;"> ( ) E2E Testing</span></span>
<span class="line"></span></code></pre></div><p>\u9009\u62E9\u7248\u672C\uFF0C\u9009\u62E9<code>3.x</code></p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Choose a version of Vue.js that you want to start the project with (Use arrow</span></span>
<span class="line"><span style="color:#F8F8F2;">keys)</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> 2.x</span></span>
<span class="line"><span style="color:#F8F8F2;">  3.x (Preview)</span></span>
<span class="line"></span></code></pre></div><p>\u662F\u5426\u4F7F\u7528<code>class-style</code>\u8FD9\u4E2A\u7C7B\u6837\u5F0F\u8BED\u6CD5\uFF0C\u9009\u62E9 no</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Use class-style component syntax</span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> (y/N)</span></span>
<span class="line"></span></code></pre></div><p>\u662F\u5426\u4F7F\u7528<code>TypeScript</code>\u548C<code>Babel</code>\u7684\u5F62\u5F0F\u7F16\u8BD1 JSX\uFF0C\u9009\u62E9 no</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Use Babel alongside TypeScript (required </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> modern mode, auto-detected polyfi</span></span>
<span class="line"><span style="color:#F8F8F2;">lls, transpiling JSX)</span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> (Y/n)</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u4E0A\u9762\u9009\u62E9\u4E86<code>Router</code>\uFF0C\u4F1A\u51FA\u73B0\u4E0B\u9762\u7684\u9009\u9879\uFF0C\u662F\u5426\u4F7F\u7528<code>history</code>\u8DEF\u7531\u6A21\u5F0F\uFF0C\u9009\u62E9 yes</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Use </span><span style="color:#8BE9FD;">history</span><span style="color:#F8F8F2;"> mode </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> router</span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> (Requires proper server setup </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> index fallback</span></span>
<span class="line"><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> production) (Y/n)</span></span>
<span class="line"></span></code></pre></div><p>\u9009\u62E9\u4EE3\u7801\u89C4\u8303\uFF0C\u4E00\u822C\u9009\u62E9<code>ESLint + Prettier</code>\u6765\u7EDF\u4E00\u524D\u7AEF\u4EE3\u7801\u98CE\u683C</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Pick a linter / formatter config:</span></span>
<span class="line"><span style="color:#F8F8F2;">  ESLint with error prevention only</span></span>
<span class="line"><span style="color:#F8F8F2;">  ESLint + Airbnb config</span></span>
<span class="line"><span style="color:#F8F8F2;">  ESLint + Standard config</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> ESLint + Prettier</span></span>
<span class="line"><span style="color:#F8F8F2;">  TSLint (deprecated)</span></span>
<span class="line"></span></code></pre></div><p>\u6DFB\u52A0 <code>lint</code> \u7279\u6027\uFF0C\u76F4\u63A5\u56DE\u8F66\u5373\u53EF</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Pick additional lint features: (Press </span><span style="color:#FF79C6;">&lt;</span><span style="color:#F8F8F2;">space</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> to select, </span><span style="color:#FF79C6;">&lt;</span><span style="color:#F8F8F2;">a</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> to toggle all, </span><span style="color:#FF79C6;">&lt;</span><span style="color:#F8F8F2;">i</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> to invert selection)</span></span>
<span class="line"><span style="color:#E9F284;">&gt;(</span><span style="color:#FF79C6;">*</span><span style="color:#E9F284;">)</span><span style="color:#F8F8F2;"> Lint on save</span></span>
<span class="line"><span style="color:#F8F8F2;"> ( ) Lint and fix on commit</span></span>
<span class="line"></span></code></pre></div><p>\u9009\u62E9\u5C06\u914D\u7F6E\u5199\u5165\u5355\u72EC\u7684\u6587\u4EF6\u8FD8\u662F<code>package.json</code>\u4E2D\uFF0C\u6211\u9009\u62E9<code>package.json</code>\uFF0C\u4F60\u968F\u610F</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Where </span><span style="color:#FF79C6;">do</span><span style="color:#F8F8F2;"> you prefer placing config </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> Babel, ESLint, etc.</span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> (Use arrow keys)</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> In dedicated config files</span></span>
<span class="line"><span style="color:#F8F8F2;">  In package.json</span></span>
<span class="line"></span></code></pre></div><p>\u9009\u62E9\u662F\u5426\u4FDD\u5B58\u914D\u7F6E\uFF0C\u65B9\u4FBF\u4E0B\u6B21\u4F7F\u7528\uFF0C\u9009\u62E9 no</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> Save this as a preset </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> future projects</span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> (y/N)</span></span>
<span class="line"></span></code></pre></div><p>\u7136\u540E\u7B49\u5F85\u4F9D\u8D56\u4E0B\u8F7D\uFF0C\u5982\u679C\u540C\u65F6\u5B89\u88C5\u4E86<code>npm</code>\u548C<code>yarn</code>\uFF0C\u8FD8\u4F1A\u8BA9\u4F60\u9009\u62E9\u4E0B\u8F7D\u5DE5\u5177</p><h2 id="\u7EC4\u5408-api" tabindex="-1">\u7EC4\u5408 API <a class="header-anchor" href="#\u7EC4\u5408-api" aria-hidden="true">#</a></h2><p>\u4EE5\u4E0B\u6240\u6709\u5185\u5BB9\u90FD\u662F\u642D\u914D<code>typescript</code>\u7684</p><p>vue3 \u65B0\u589E<code>setup()</code>\u8BED\u6CD5\uFF0C\u5305\u62EC\u4E24\u4E2A\u53C2\u6570<code>props</code>\u548C<code>context</code>\u3002\u5B9A\u4E49\u7684\u53D8\u91CF\u548C\u65B9\u6CD5\u7B49\u90FD\u5728<code>setup()</code>\u91CC\u9762\uFF0C</p><h3 id="ref\u3001reactive" tabindex="-1">ref\u3001reactive <a class="header-anchor" href="#ref\u3001reactive" aria-hidden="true">#</a></h3><p>\u4E8C\u8005\u90FD\u80FD\u5B9A\u4E49\u53D8\u91CF</p><h4 id="ref" tabindex="-1">ref <a class="header-anchor" href="#ref" aria-hidden="true">#</a></h4><p>\u5148\u5BFC\u5165<code>ref</code>\uFF0C\u5C06\u53D8\u91CF\u7684\u503C\u653E\u5165<code>ref()</code>\u4E2D\uFF0C\u5982<code>const name = ref(&quot;&quot;);</code>\uFF0C\u4F7F\u7528\u7684\u65F6\u5019\u53D8\u91CF\u540D\u8FD8\u8981\u5E26\u4E0A<code>.value</code>\uFF0C\u6700\u540E\u5C06\u53D8\u91CF\u8FD4\u56DE\u3002 \u4EE5\u524D\u5728<code>data()</code>\u4E2D\u7684\u53D8\u91CF\u90FD\u5F97\u8FD4\u56DE\uFF0C\u73B0\u5728\u9875\u9762\u4E2D\u6CA1\u6709\u4F7F\u7528\u7684\u53D8\u91CF\u53EF\u4EE5\u4E0D\u7528\u8FD4\u56DE\u4E86</p><div class="language-vue"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">v-for</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">(item, index) </span><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> user</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">:</span><span style="color:#50FA7B;">key</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">index</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">@</span><span style="color:#50FA7B;">click</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#50FA7B;">clickName</span><span style="color:#F8F8F2;">(index)</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;{{ index }} : {{ item }}&lt;/</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;{{ name }}&lt;/</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#F8F8F2;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ts</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { defineComponent, ref } </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vue</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">App</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> user </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">ref</span><span style="color:#F8F8F2;">([</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">tom</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">jack</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ivan</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> name </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">clickName</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;">index</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      name.value </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> user.value[index]</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      user,</span></span>
<span class="line"><span style="color:#F8F8F2;">      name,</span></span>
<span class="line"><span style="color:#F8F8F2;">      clickName</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><h4 id="reactive" tabindex="-1">reactive <a class="header-anchor" href="#reactive" aria-hidden="true">#</a></h4><p>\u4F7F\u7528<code>reactive()</code>\u58F0\u660E\u7684\u53D8\u91CF\u4F7F\u7528\u65F6\u53EF\u4EE5\u4E0D\u5E26\u4E0A<code>.value</code>\uFF0C\u63A5\u6536\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u6700\u540E\u53EA\u9700\u8FD4\u56DE\u4E00\u4E2A\u53D8\u91CF\u5373\u53EF\u3002\u4F46\u662F\u5728\u6A21\u677F\u4E2D\u4F7F\u7528\u65F6\u8FD8\u5F97\u4EE5\u5BF9\u8C61\u7684\u5F62\u5F0F\u4F7F\u7528 \u6BD4\u5982\u8FD4\u56DE\u4E00\u4E2A data \u53D8\u91CF\uFF0C\u4F7F\u7528\u65F6<code>data.name</code>\uFF0C\u8FD9\u65F6\u53EF\u4EE5\u7528<code>toRefs()</code>\u5C06\u5176\u8F6C\u6362\u6210<code>ref</code>\uFF0C\u7136\u540E\u5728\u6A21\u677F\u4E2D\u5C31\u80FD\u76F4\u63A5\u4F7F\u7528\u53D8\u91CF<code>name</code>\u4E86</p><div class="language-vue"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">v-for</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">(item, index) </span><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> list</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">:</span><span style="color:#50FA7B;">key</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">index</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">@</span><span style="color:#50FA7B;">click</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#50FA7B;">btnFun</span><span style="color:#F8F8F2;">(index)</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;{{ index }} : {{ item }}&lt;/</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;{{ listName }}&lt;/</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#F8F8F2;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ts</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { defineComponent, reactive, toRefs } </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vue</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">DataProps</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">string</span><span style="color:#F8F8F2;">[]</span></span>
<span class="line"><span style="color:#F8F8F2;">  listName</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">string</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">btnFun</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;">index</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">void</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">App</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> data</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">DataProps</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">reactive</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">first</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">second</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">third</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">      listName</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">btnFun</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;">index</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        data.listName </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> data.list[index]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> { </span><span style="color:#FF79C6;">...</span><span style="color:#50FA7B;">toRefs</span><span style="color:#F8F8F2;">(data) }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u751F\u547D\u5468\u671F" tabindex="-1">\u751F\u547D\u5468\u671F <a class="header-anchor" href="#\u751F\u547D\u5468\u671F" aria-hidden="true">#</a></h2><p><code>setup()</code>\u5F00\u59CB\u521B\u5EFA\u7EC4\u4EF6\u4E4B\u524D\uFF0C\u5728<code>beforeCreate()</code>\u548C<code>created()</code>\u4E4B\u524D\u6267\u884C</p><div class="language-vue"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;vue&lt;/</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#F8F8F2;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ts</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  defineComponent,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onBeforeMount,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onMounted,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onBeforeUpdate,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onUpdated,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onRenderTriggered,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onRenderTracked,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onBeforeUnmount,</span></span>
<span class="line"><span style="color:#F8F8F2;">  onUnmounted</span></span>
<span class="line"><span style="color:#F8F8F2;">} </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vue</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">App</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u5F00\u59CB\u521B\u5EFA\u7EC4\u4EF6</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onBeforeMount</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u6302\u8F7D\u524D</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onMounted</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u5B8C\u6210\u6302\u8F7D</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onBeforeUpdate</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u66F4\u65B0\u524D</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onUpdated</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u5B8C\u6210\u66F4\u65B0</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onRenderTriggered</span><span style="color:#F8F8F2;">((</span><span style="color:#FFB86C;">event</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u72B6\u6001\u89E6\u53D1</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onRenderTracked</span><span style="color:#F8F8F2;">((</span><span style="color:#FFB86C;">event</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u72B6\u6001\u8DDF\u8E2A</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onBeforeUnmount</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u5378\u8F7D\u4E4B\u524D</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">onUnmounted</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">\u5378\u8F7D\u5B8C\u6210</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u6709\u8DA3\u7684\u662F\u5728<code>setup()</code>\u51FD\u6570\u4E4B\u540E\u53EF\u4EE5\u7EE7\u7EED\u7F16\u5199 Vue2 \u7684\u751F\u547D\u5468\u671F\u51FD\u6570\uFF0C\u5373 Vue2 \u7684\u751F\u547D\u5468\u671F\u51FD\u6570\u8FD8\u662F\u53EF\u7528\u7684\uFF0C\u4F46\u662F\u522B\u6DF7\u7528</p><p>vue2 \u548C vue3 \u751F\u547D\u5468\u671F\u5BF9\u6BD4\uFF1A</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;">beforeCreate  -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">created       -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">beforeMount   -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onBeforeMount</span></span>
<span class="line"><span style="color:#F8F8F2;">mounted       -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onMounted</span></span>
<span class="line"><span style="color:#F8F8F2;">beforeUpdate  -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onBeforeUpdate</span></span>
<span class="line"><span style="color:#F8F8F2;">updated       -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onUpdated</span></span>
<span class="line"><span style="color:#F8F8F2;">beforeDestroy -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onBeforeUnmount</span></span>
<span class="line"><span style="color:#F8F8F2;">destroyed     -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onUnmounted</span></span>
<span class="line"><span style="color:#F8F8F2;">activated     -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onActivated</span></span>
<span class="line"><span style="color:#F8F8F2;">deactivated   -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onDeactivated</span></span>
<span class="line"><span style="color:#F8F8F2;">errorCaptured -</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> onErrorCaptured</span></span>
<span class="line"></span></code></pre></div><h2 id="watch-\u76D1\u542C" tabindex="-1">watch \u76D1\u542C <a class="header-anchor" href="#watch-\u76D1\u542C" aria-hidden="true">#</a></h2><p>\u5148\u5BFC\u5165<code>watch</code>\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u8981\u76D1\u542C\u7684\u53D8\u91CF\uFF0C\u7B2C\u4E8C\u4E2A\u662F\u56DE\u8C03\u51FD\u6570\u3002\u5982\u679C\u8981\u76D1\u542C\u591A\u4E2A\u53D8\u91CF\uFF0C\u90A3\u4E48\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\u6570\u7EC4</p><div class="language-vue"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;{{ name }}&lt;/</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#F8F8F2;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ts</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { defineComponent, ref, watch } </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vue</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">App</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> name </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">hello</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">watch</span><span style="color:#F8F8F2;">(overText, (</span><span style="color:#FFB86C;">newVal</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;">oldVal</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(newVal)</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> { name }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u8BA1\u7B97\u5C5E\u6027" tabindex="-1">\u8BA1\u7B97\u5C5E\u6027 <a class="header-anchor" href="#\u8BA1\u7B97\u5C5E\u6027" aria-hidden="true">#</a></h2><p><code>computed()</code></p><div class="language-vue"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">class</span><span style="color:#F8F8F2;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">hello</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">v-for</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">(item, index) </span><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> list</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">:</span><span style="color:#50FA7B;">key</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">index</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;{{ index }} : {{ item }}&lt;/</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">p</span><span style="color:#F8F8F2;">&gt;{{ count }}&lt;/</span><span style="color:#FF79C6;">p</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#F8F8F2;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ts</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { defineComponent, reactive, toRefs, computed } </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vue</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">DataProps</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">string</span><span style="color:#F8F8F2;">[]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HelloWorld</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> data</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">DataProps</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">reactive</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">first</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">second</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">third</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> count </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">computed</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> data.list.length)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> { </span><span style="color:#FF79C6;">...</span><span style="color:#50FA7B;">toRefs</span><span style="color:#F8F8F2;">(data), count }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="hooks" tabindex="-1">hooks <a class="header-anchor" href="#hooks" aria-hidden="true">#</a></h2><p>\u5728 <code>src</code> \u76EE\u5F55\u4E0B\u65B0\u5EFA <code>hooks</code> \u6587\u4EF6\u5939\uFF0C\u5EFA\u7ACB\u4E00\u4E2A<code>useMousePosition.ts</code>\u6587\u4EF6\uFF0C\u529F\u80FD\u662F\u83B7\u53D6\u9F20\u6807\u4F4D\u7F6E\uFF0Chooks \u547D\u540D\u5EFA\u8BAE\u4EE5<code>use</code>\u5F00\u5934</p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { ref, onMounted, onUnmounted } </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vue</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">mousePosition</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> y </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">ref</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">update</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;">e</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">any</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    x.value </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> e.pageX</span></span>
<span class="line"><span style="color:#F8F8F2;">    y.value </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> e.pageY</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">onMounted</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    window.</span><span style="color:#50FA7B;">addEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">mousemove</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, update)</span></span>
<span class="line"><span style="color:#F8F8F2;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">onUnmounted</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    window.</span><span style="color:#50FA7B;">removeEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">mousemove</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, update)</span></span>
<span class="line"><span style="color:#F8F8F2;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> { x, y }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre></div><p>\u7136\u540E\u5728\u4F7F\u7528\u5B83\u7684\u7EC4\u4EF6\u4E2D\u5BFC\u5165\uFF0C\u6700\u540E<code>return</code>\u8FD4\u56DE\uFF0C\u5373\u53EF\u5728\u6A21\u677F\u4E2D\u4F7F\u7528</p><div class="language-vue"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;\u9F20\u6807\u4F4D\u7F6E\uFF1A{{ x }} - {{ y }}&lt;/</span><span style="color:#FF79C6;">h1</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#F8F8F2;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ts</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { defineComponent } </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vue</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> mousePosition </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">@/hooks/useMousePosition</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">defineComponent</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">App</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">setup</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> { x, y } </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">mousePosition</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> { x, y }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u586B\u5751\u8BB0\u5F55" tabindex="-1">\u586B\u5751\u8BB0\u5F55 <a class="header-anchor" href="#\u586B\u5751\u8BB0\u5F55" aria-hidden="true">#</a></h2><h3 id="vue-router" tabindex="-1">vue-router <a class="header-anchor" href="#vue-router" aria-hidden="true">#</a></h3><h4 id="_404-\u9519\u8BEF" tabindex="-1">404 \u9519\u8BEF <a class="header-anchor" href="#_404-\u9519\u8BEF" aria-hidden="true">#</a></h4><p>2020/2/3</p><p>\u5339\u914D 404 \u8DEF\u7531\u65F6\uFF0C\u4EE5\u524D\u662F<code>path: &quot;*&quot;</code>\uFF0C\u73B0\u5728\u662F<code>path: &quot;/:catchAll(.*)&quot;</code>\uFF0C\u5426\u5219\u62A5\u4E0B\u9762\u7684\u9519\u8BEF</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;">Catch all routes (</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">*</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">) must now be defined using a param with a custom regexp.</span></span>
<span class="line"></span></code></pre></div><p>\u66F4\u6B63\uFF1A</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;">  {</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">/404</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    name: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">404</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#50FA7B;">component:</span><span style="color:#F8F8F2;"> () =</span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> import(/</span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> webpackChunkName: </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">404</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">/ </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">@/views/404.vue</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  { path: </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">/:catchAll(.*)</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, redirect: </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">/404</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> }</span></span>
<span class="line"></span></code></pre></div>`,68),F=[o];function e(t,c,r,y,i,d){return a(),n("div",null,F)}const g=s(p,[["render",e]]);export{C as __pageData,g as default};
