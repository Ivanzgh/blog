import{_ as s,c as a,o as n,a as l}from"./app.38368cd2.js";const u=JSON.parse('{"title":"AJAX","description":"","frontmatter":{},"headers":[{"level":2,"title":"XMLHttpRequest","slug":"xmlhttprequest","link":"#xmlhttprequest","children":[]},{"level":2,"title":"ajax \u83B7\u53D6\u6570\u636E","slug":"ajax-\u83B7\u53D6\u6570\u636E","link":"#ajax-\u83B7\u53D6\u6570\u636E","children":[]},{"level":2,"title":"axios","slug":"axios","link":"#axios","children":[{"level":3,"title":"Content-Type","slug":"content-type","link":"#content-type","children":[]}]}],"relativePath":"fe/base/js-ajax.md","lastUpdated":1662180954000}'),p={name:"fe/base/js-ajax.md"},o=l(`<h1 id="ajax" tabindex="-1">AJAX <a class="header-anchor" href="#ajax" aria-hidden="true">#</a></h1><h2 id="xmlhttprequest" tabindex="-1">XMLHttpRequest <a class="header-anchor" href="#xmlhttprequest" aria-hidden="true">#</a></h2><p><a href="https://juejin.im/post/58e4a174ac502e006c1e18f4#heading-0" target="_blank" rel="noreferrer">https://juejin.im/post/58e4a174ac502e006c1e18f4#heading-0</a></p><p><a href="https://www.jianshu.com/p/918c63045bc3" target="_blank" rel="noreferrer">https://www.jianshu.com/p/918c63045bc3</a></p><p><a href="https://blog.csdn.net/z550449054/article/details/80538623" target="_blank" rel="noreferrer">https://blog.csdn.net/z550449054/article/details/80538623</a></p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#6272A4;">// &lt;div id=&quot;hehe&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> xhr </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">XMLHttpRequest</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#6272A4;">//\u8BF7\u6C42\u65B9\u5F0F\uFF0C\u8DEF\u5F84\uFF0C\u662F\u5426\u5F02\u6B65</span></span>
<span class="line"><span style="color:#F8F8F2;">xhr.</span><span style="color:#50FA7B;">open</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">GET</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">https://www.easy-mock.com/mock/5c94518744e20f337dc3c58c/test/zgh/zghivan</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">false</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">//\u8BBE\u7F6Exhrt\u5BF9\u8C61\u4E0D\u53D1\u9001\u6570\u636E\u5230\u670D\u52A1\u5668</span></span>
<span class="line"><span style="color:#F8F8F2;">xhr.</span><span style="color:#50FA7B;">send</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">null</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(xhr)</span></span>
<span class="line"><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> (xhr.status </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">200</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> data </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xhr.responseText</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(data)</span></span>
<span class="line"><span style="color:#F8F8F2;">  document.</span><span style="color:#50FA7B;">getElementById</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">hehe</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">).innerText </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> data</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="ajax-\u83B7\u53D6\u6570\u636E" tabindex="-1">ajax \u83B7\u53D6\u6570\u636E <a class="header-anchor" href="#ajax-\u83B7\u53D6\u6570\u636E" aria-hidden="true">#</a></h2><p>\u6570\u636E\u4EA4\u4E92\u7684\u51E0\u79CD\u65B9\u5F0F\uFF1A</p><p><a href="http://www.cnblogs.com/zxt-17862802783/p/7787258.html" target="_blank" rel="noreferrer">http://www.cnblogs.com/zxt-17862802783/p/7787258.html</a></p><div class="language-html"><button class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">btn</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;click!&lt;/</span><span style="color:#FF79C6;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">src</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">https://cdn.bootcss.com/jquery/3.3.1/jquery.js</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#50FA7B;">$</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">#btn</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#50FA7B;">click</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">me</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    $.</span><span style="color:#50FA7B;">ajax</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      url</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">https://www.easy-mock.com/mock/5c94518744e20f337dc3c58c/test/zgh/zghivan</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">get</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      dataType</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">json</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      async</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#6272A4;">//post\u8BF7\u6C42\u53EF\u4EE5\u4F20\u9012\u6570\u636E</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#6272A4;">//data: {id : 1},</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">success</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;">data</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(data)</span></span>
<span class="line"><span style="color:#F8F8F2;">      },</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">error</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;"> () {</span></span>
<span class="line"><span style="color:#F8F8F2;">        console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">error</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  })</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>jquery \u4E2D\u7684$.ajax()\u5E38\u7528\u53C2\u6570\uFF1A</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#F8F8F2;">url \u8BF7\u6C42\u5730\u5740</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">async \u662F\u5426\u5F02\u6B65</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">data \u53D1\u9001\u5230\u670D\u52A1\u5668\u7684\u6570\u636E</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">contentType  \u53D1\u9001\u4FE1\u606F\u81F3\u670D\u52A1\u5668\u65F6\u5185\u5BB9\u7F16\u7801\u7C7B\u578B</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD;">type</span><span style="color:#F8F8F2;">  \u8BF7\u6C42\u7C7B\u578B</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">success \u8BF7\u6C42\u6210\u529F\u7684\u56DE\u8C03\u51FD\u6570</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">error  \u8BF7\u6C42\u5931\u8D25\u7684\u56DE\u8C03\u51FD\u6570</span></span>
<span class="line"></span></code></pre></div><p>\u82E5\u4E3A get \u8BF7\u6C42\u53EF\u76F4\u63A5\u5728 url \u4E2D\u4F7F\u7528?\u62FC\u63A5</p><p>\u63A8\u8350\uFF1A <a href="http://louiszhai.github.io/2016/11/02/ajax/" target="_blank" rel="noreferrer">http://louiszhai.github.io/2016/11/02/ajax/</a></p><p>MDN : <a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX</a></p><h2 id="axios" tabindex="-1">axios <a class="header-anchor" href="#axios" aria-hidden="true">#</a></h2><h3 id="content-type" tabindex="-1">Content-Type <a class="header-anchor" href="#content-type" aria-hidden="true">#</a></h3><p>Axios \u8BF7\u6C42\u5934\u4E2D\u7684<code>Content-Type</code>\u5E38\u89C1\u7684\u6709\u4E09\u79CD\uFF1A</p><ul><li><p>Content-Type: <code>application/json</code></p></li><li><p>Content-Type: <code>application/x-www-form-urlencoded</code></p></li><li><p>Content-Type: <code>multipart/form-data</code></p></li></ul><p>\u8BF7\u6C42\u5934\u914D\u7F6E\uFF1A</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#F8F8F2;">headers: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Content-Type</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">application/x-www-form-urlencoded</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">},</span></span>
<span class="line"></span></code></pre></div><p>1\u3001<code>application/json</code>\u662F\u9ED8\u8BA4\u7684\u65B9\u5F0F\uFF0C\u58F0\u660E\u4E86\u5C06\u8BF7\u6C42\u4F53\u4E2D\u7684\u6570\u636E\u4EE5 json \u5B57\u7B26\u4E32\u7684\u683C\u5F0F\u4F20\u7ED9\u540E\u7AEF\u3002</p><p>2\u3001<code>application/x-www-form-urlencoded</code>\u58F0\u660E\u4E86\u8BF7\u6C42\u4F53\u4E2D\u7684\u6570\u636E\u4F1A\u4EE5\u952E\u503C\u5BF9\uFF08\u666E\u901A\u8868\u5355\u5F62\u5F0F\uFF09\u53D1\u9001\u5230\u540E\u7AEF\uFF0C\u8FD9\u79CD\u7C7B\u578B\u662F Ajax \u9ED8\u8BA4\u7684\u3002 \u8BF7\u6C42\u4F53\u4E00\u822C\u662F json \u5BF9\u8C61\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>qs</code>\u5E93\u5C06\u5BF9\u8C61\u8F6C\u4E3A url \u53C2\u6570\u5F62\u5F0F\u3002</p><p>qs \u662F Axios \u9ED8\u8BA4\u5C31\u6709\u7684\uFF0C\u80FD\u5C06\u5BF9\u8C61\u548C url \u4E2D\u7684\u53C2\u6570\u4E92\u76F8\u8F6C\u6362</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> qs </span><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">qs</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> url </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">user=zgh&amp;password=123</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#6272A4;">// \u8F6C\u4E3A\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(qs.</span><span style="color:#50FA7B;">parse</span><span style="color:#F8F8F2;">(url)) </span><span style="color:#6272A4;">// { user: &#39;zgh&#39;, password: &#39;123&#39; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> { name</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">zgh</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, age</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">23</span><span style="color:#F8F8F2;"> }</span></span>
<span class="line"><span style="color:#6272A4;">// \u8F6C\u4E3Aurl\u53C2\u6570\u5F62\u5F0F</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(qs.</span><span style="color:#50FA7B;">stringify</span><span style="color:#F8F8F2;">(obj)) </span><span style="color:#6272A4;">// &#39;name=zgh&amp;age=23&#39;</span></span>
<span class="line"></span></code></pre></div><p>3\u3001<code>multipart/form-data</code>\u4E00\u822C\u7528\u6765\u4F20\u8F93\u6587\u4EF6\uFF0C\u6570\u636E\u4E3A\u4E8C\u8FDB\u5236\u683C\u5F0F\uFF0C\u4E5F\u53EF\u4E3A\u952E\u503C\u5BF9\u683C\u5F0F</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> fileData </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">FormData</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">fileData.</span><span style="color:#50FA7B;">append</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">file</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, file)</span></span>
<span class="line"><span style="color:#F8F8F2;">fileData.</span><span style="color:#50FA7B;">append</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">name</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">zgh</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// \u5982\u679C\u60F3\u4F20\u8F93\u6587\u4EF6\u6570\u7EC4</span></span>
<span class="line"><span style="color:#F8F8F2;">fileData.</span><span style="color:#50FA7B;">append</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">files</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, file1)</span></span>
<span class="line"><span style="color:#F8F8F2;">fileData.</span><span style="color:#50FA7B;">append</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">files</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, file2)</span></span>
<span class="line"><span style="color:#F8F8F2;">fileData.</span><span style="color:#50FA7B;">append</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">files</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, file3)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>`,27),e=[o];function F(t,c,r,y,i,d){return n(),a("div",null,e)}const A=s(p,[["render",F]]);export{u as __pageData,A as default};
