import{_ as s,c as n,o as a,a as l}from"./app.fb0475dd.js";const d=JSON.parse('{"title":"OpenLayers","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4ECB\u7ECD","slug":"\u4ECB\u7ECD","link":"#\u4ECB\u7ECD","children":[]},{"level":2,"title":"\u5FEB\u901F\u4E0A\u624B","slug":"\u5FEB\u901F\u4E0A\u624B","link":"#\u5FEB\u901F\u4E0A\u624B","children":[]},{"level":2,"title":"\u52A0\u8F7D WMS \u670D\u52A1","slug":"\u52A0\u8F7D-wms-\u670D\u52A1","link":"#\u52A0\u8F7D-wms-\u670D\u52A1","children":[]},{"level":2,"title":"\u7ED8\u5236\u70B9\u7EBF\u9762","slug":"\u7ED8\u5236\u70B9\u7EBF\u9762","link":"#\u7ED8\u5236\u70B9\u7EBF\u9762","children":[]},{"level":2,"title":"\u624B\u7ED8\u5F62\u72B6","slug":"\u624B\u7ED8\u5F62\u72B6","link":"#\u624B\u7ED8\u5F62\u72B6","children":[]},{"level":2,"title":"\u77E2\u91CF\u56FE\u5C42","slug":"\u77E2\u91CF\u56FE\u5C42","link":"#\u77E2\u91CF\u56FE\u5C42","children":[{"level":3,"title":"\u5220\u9664\u77E2\u91CF\u56FE\u5C42","slug":"\u5220\u9664\u77E2\u91CF\u56FE\u5C42","link":"#\u5220\u9664\u77E2\u91CF\u56FE\u5C42","children":[]}]}],"relativePath":"vis/gis/openlayers.md","lastUpdated":1677460466000}'),p={name:"vis/gis/openlayers.md"},o=l(`<h1 id="openlayers" tabindex="-1">OpenLayers <a class="header-anchor" href="#openlayers" aria-hidden="true">#</a></h1><h2 id="\u4ECB\u7ECD" tabindex="-1">\u4ECB\u7ECD <a class="header-anchor" href="#\u4ECB\u7ECD" aria-hidden="true">#</a></h2><p>OpenLayers \u662F\u4E00\u4E2A\u4E13\u4E3A WebGIS \u5BA2\u6237\u7AEF\u5F00\u53D1\u63D0\u4F9B\u7684 JavaScript \u7C7B\u5E93\u5305\uFF0C\u7528\u4E8E\u5B9E\u73B0\u6807\u51C6\u683C\u5F0F\u53D1\u5E03\u7684\u5730\u56FE\u6570\u636E\u8BBF\u95EE\u3002 \u7B80\u5355\u8BF4\uFF0C\u5C31\u662F\u7528\u4E8E\u5728\u7F51\u9875\u4E2D\u5B9E\u73B0\u5730\u56FE\u7684\u52A8\u6001\u663E\u793A\u548C\u4EA4\u4E92\u3002</p><p>\u5B98\u7F51\uFF1A<a href="https://openlayers.org/" target="_blank" rel="noreferrer">https://openlayers.org/</a></p><p>\u4E0B\u8F7D\uFF1A<a href="https://openlayers.org/download/" target="_blank" rel="noreferrer">https://openlayers.org/download/</a></p><h2 id="\u5FEB\u901F\u4E0A\u624B" tabindex="-1">\u5FEB\u901F\u4E0A\u624B <a class="header-anchor" href="#\u5FEB\u901F\u4E0A\u624B" aria-hidden="true">#</a></h2><div class="language-html"><button class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;!</span><span style="color:#FF79C6;">DOCTYPE</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">html</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">html</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">en</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">head</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">link</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">rel</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">stylesheet</span><span style="color:#E9F284;">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">href</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.1.1/css/ol.css</span><span style="color:#E9F284;">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">type</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">text/css</span><span style="color:#E9F284;">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    /&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">.map</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">height</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">400</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">width</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">100</span><span style="color:#FF79C6;">%</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#FF79C6;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">src</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.1.1/build/ol.js</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">title</span><span style="color:#F8F8F2;">&gt;OpenLayers example&lt;/</span><span style="color:#FF79C6;">title</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#FF79C6;">head</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">body</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">h2</span><span style="color:#F8F8F2;">&gt;My Map&lt;/</span><span style="color:#FF79C6;">h2</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">map</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">class</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">map</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">type</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">text/javascript</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">var</span><span style="color:#F8F8F2;"> map </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.</span><span style="color:#50FA7B;">Map</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">        target</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">map</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#6272A4;">// \u5730\u56FE\u5BB9\u5668</span></span>
<span class="line"><span style="color:#F8F8F2;">        layers</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// \u56FE\u5C42\u7EC4</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.layer.</span><span style="color:#50FA7B;">Tile</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">            source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.source.</span><span style="color:#50FA7B;">OSM</span><span style="color:#F8F8F2;">() </span><span style="color:#6272A4;">// \u6570\u636E\u6E90</span></span>
<span class="line"><span style="color:#F8F8F2;">          })</span></span>
<span class="line"><span style="color:#F8F8F2;">        ],</span></span>
<span class="line"><span style="color:#F8F8F2;">        view</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.</span><span style="color:#50FA7B;">View</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">          center</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> ol.proj.</span><span style="color:#50FA7B;">fromLonLat</span><span style="color:#F8F8F2;">([</span><span style="color:#BD93F9;">37.41</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">8.82</span><span style="color:#F8F8F2;">]), </span><span style="color:#6272A4;">// \u89C6\u56FE\u4E2D\u5FC3</span></span>
<span class="line"><span style="color:#F8F8F2;">          zoom</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;"> </span><span style="color:#6272A4;">// \u521D\u59CB\u7F29\u653E\u5C42\u7EA7</span></span>
<span class="line"><span style="color:#F8F8F2;">        })</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#FF79C6;">body</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">html</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u6574\u4E2A\u5730\u56FE\u770B\u4F5C\u4E00\u4E2A\u5BB9\u5668\uFF08Map\uFF09\uFF0C\u6838\u5FC3\u4E3A\u5730\u56FE\u56FE\u5C42\uFF08Layer\uFF09\uFF0C\u6BCF\u4E2A\u56FE\u5C42\u6709\u5BF9\u5E94\u7684\u6570\u636E\u6E90\uFF08Source\uFF09\uFF0C\u5E76\u7531\u5730\u56FE\u89C6\u56FE\uFF08View\uFF09\u8FDB\u884C\u5730\u56FE\u5C55\u793A\u3002\u5730\u56FE\u5BB9\u5668\u4E0A\u8FD8\u652F\u6301\u4E00\u4E9B\u4E0E\u7528\u6237\u4EA4\u4E92\u7684\u63A7\u4EF6\uFF08Control \u548C Interaction\uFF09\uFF0C\u53E6\u5916\uFF0COpenLayers \u8FD8\u652F\u6301\u4E8B\u4EF6\u673A\u5236\u3002</p><h2 id="\u52A0\u8F7D-wms-\u670D\u52A1" tabindex="-1">\u52A0\u8F7D WMS \u670D\u52A1 <a class="header-anchor" href="#\u52A0\u8F7D-wms-\u670D\u52A1" aria-hidden="true">#</a></h2><div class="language-html"><button class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;!</span><span style="color:#FF79C6;">DOCTYPE</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">html</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">html</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">en</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">head</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">meta</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">charset</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">UTF-8</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> /&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">title</span><span style="color:#F8F8F2;">&gt;index&lt;/</span><span style="color:#FF79C6;">title</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">link</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">rel</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">stylesheet</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">href</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">./openlayers/ol.css</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> /&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">src</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">./openlayers/ol.js</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">#map</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">width</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">100</span><span style="color:#FF79C6;">%</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">height</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">100</span><span style="color:#FF79C6;">vh</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#FF79C6;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#FF79C6;">head</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">body</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">map</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> map </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.</span><span style="color:#50FA7B;">Map</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">        target</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">map</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        layers</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.layer.</span><span style="color:#50FA7B;">Tile</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">            source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.source.</span><span style="color:#50FA7B;">TileWMS</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">              url</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">http://xxx/geoserver/xxx/wms</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#6272A4;">// wms\u670D\u52A1\u5730\u5740</span></span>
<span class="line"><span style="color:#F8F8F2;">              params</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">                LAYERS</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">xxx:xxx</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#6272A4;">// \u56FE\u5C42</span></span>
<span class="line"><span style="color:#F8F8F2;">                TILED</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">              },</span></span>
<span class="line"><span style="color:#F8F8F2;">              serverType</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">geoserver</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#6272A4;">// \u670D\u52A1\u7C7B\u578B</span></span>
<span class="line"><span style="color:#F8F8F2;">            })</span></span>
<span class="line"><span style="color:#F8F8F2;">          })</span></span>
<span class="line"><span style="color:#F8F8F2;">        ],</span></span>
<span class="line"><span style="color:#F8F8F2;">        view</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.</span><span style="color:#50FA7B;">View</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// \u9650\u5236\u5730\u56FE\u8303\u56F4</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// extent: fromLonLat([115.7,39.4,117.4,41.6]),</span></span>
<span class="line"><span style="color:#F8F8F2;">          center</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> ol.proj.</span><span style="color:#50FA7B;">fromLonLat</span><span style="color:#F8F8F2;">([</span><span style="color:#BD93F9;">116.38</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">39.9</span><span style="color:#F8F8F2;">]),</span></span>
<span class="line"><span style="color:#F8F8F2;">          zoom</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">11</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// \u9650\u5236\u5730\u56FE\u7F29\u653E\u7EA7\u522B</span></span>
<span class="line"><span style="color:#F8F8F2;">          minZoom</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">6</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          maxZoom</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// projection: &#39;EPSG:3857&#39;  // \u9ED8\u8BA4\u6295\u5F71\u4E3A EPSG:3857</span></span>
<span class="line"><span style="color:#F8F8F2;">        }),</span></span>
<span class="line"><span style="color:#F8F8F2;">        controls</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// \u6DFB\u52A0\u5C42\u7EA7\u7F29\u653E\u63A7\u4EF6</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.control.</span><span style="color:#50FA7B;">Zoom</span><span style="color:#F8F8F2;">(),</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// \u6DFB\u52A0\u6BD4\u4F8B\u5C3A\u63A7\u4EF6</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.control.</span><span style="color:#50FA7B;">ScaleLine</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#6272A4;">//\u8BBE\u7F6E\u5EA6\u91CF\u5355\u4F4D\u4E3A\u7C73</span></span>
<span class="line"><span style="color:#F8F8F2;">            units</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">metric</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">            className</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ol-scale-line</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">          })</span></span>
<span class="line"><span style="color:#F8F8F2;">        ]</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#FF79C6;">body</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">html</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u7ED8\u5236\u70B9\u7EBF\u9762" tabindex="-1">\u7ED8\u5236\u70B9\u7EBF\u9762 <a class="header-anchor" href="#\u7ED8\u5236\u70B9\u7EBF\u9762" aria-hidden="true">#</a></h2><p>openlayers \u652F\u6301\u7684\u7C7B\u578B\u6709 <code>Point</code>, <code>LineString</code>, <code>LinearRing</code>, <code>Polygon</code>, <code>MultiPoint</code>, <code>MultiLineString</code>, <code>MultiPolygon</code>, <code>GeometryCollection</code>, <code>Circle</code></p><p>\u5728\u4EE5\u4E0A\u4EE3\u7801\u7684\u57FA\u7840\u4E0A\u63A5\u7740\u6DFB\u52A0\u4EE5\u4E0B\u4EE3\u7801\uFF1A</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#6272A4;">// \u6DFB\u52A0\u4E00\u4E2A\u77E2\u91CF\u56FE\u5C42</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> pointLayer </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.layer.</span><span style="color:#50FA7B;">Vector</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.source.</span><span style="color:#50FA7B;">Vector</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">map.</span><span style="color:#50FA7B;">addLayer</span><span style="color:#F8F8F2;">(pointLayer)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// \u6DFB\u52A0\u4EA4\u4E92</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> drawPoint </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Point</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> pointLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">map.</span><span style="color:#50FA7B;">addInteraction</span><span style="color:#F8F8F2;">(drawPoint)</span></span>
<span class="line"></span></code></pre></div><p>\u9996\u5148\u6DFB\u52A0\u4E00\u4E2A\u77E2\u91CF\u56FE\u5C42\uFF0C\u63A5\u7740\u521B\u5EFA\u4E00\u4E2A\u4EA4\u4E92\uFF0C\u6CE8\u610F\u6DFB\u52A0 <code>source: pointLayer.getSource()</code> \u7528\u4E8E\u4FDD\u5B58\u7ED8\u5236\u7684\u5185\u5BB9\u3002\u5982\u679C\u8981\u7ED8\u5236\u7EBF\u3001\u9762\u7B49\u5176\u4ED6\u7C7B\u578B\uFF0C\u53EA\u9700\u66F4\u6539<code>ol.interaction.Draw()</code>\u4E2D type \u7684\u7C7B\u578B\u5373\u53EF\u3002</p><h2 id="\u624B\u7ED8\u5F62\u72B6" tabindex="-1">\u624B\u7ED8\u5F62\u72B6 <a class="header-anchor" href="#\u624B\u7ED8\u5F62\u72B6" aria-hidden="true">#</a></h2><div class="language-html"><button class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#F8F8F2;">&lt;!</span><span style="color:#FF79C6;">DOCTYPE</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">html</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">html</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">lang</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">en</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">head</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">meta</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">charset</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">UTF-8</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> /&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">title</span><span style="color:#F8F8F2;">&gt;freehand&lt;/</span><span style="color:#FF79C6;">title</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">link</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">rel</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">stylesheet</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">href</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">./openlayers/ol.css</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> /&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">ul</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FF79C6;">      li</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">list-style</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">none</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">ul li</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">width</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">75</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">height</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">28</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">line-height</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">28</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">cursor</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">pointer</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">ul li</span><span style="color:#FF79C6;">:</span><span style="color:#50FA7B;">hover</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">background-color</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">#40e0d0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">#map</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">position</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">relative</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">width</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">100</span><span style="color:#FF79C6;">%</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">height</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">800</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">.operat</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">position</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">absolute</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">top</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">right</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">60</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">z-index</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2000</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">display</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">flex</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">color</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">#fff</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">background</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">#34495e</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">padding-left</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">text-align</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">center</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">#type</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">display</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">none</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">top</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">28</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">color</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">#fff</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">background</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">#34495e</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">font-size</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">14</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">width</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">150</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">text-align</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">left</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">outline</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">none</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">#type</span><span style="color:#FF79C6;"> option</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">width</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">150</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">height</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">25</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">line-height</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">25</span><span style="color:#FF79C6;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">#type</span><span style="color:#FF79C6;"> option</span><span style="color:#FF79C6;">:</span><span style="color:#50FA7B;">hover</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">background-color</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">#008080</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#FF79C6;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">src</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">./openlayers/ol.js</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#FF79C6;">head</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FF79C6;">body</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">map</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      &lt;</span><span style="color:#FF79C6;">ul</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">class</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">operat</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;</span><span style="color:#FF79C6;">li</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">shape</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">          Shape</span></span>
<span class="line"><span style="color:#F8F8F2;">          &lt;</span><span style="color:#FF79C6;">select</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">type</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">none</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;None&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">Point</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;Point&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">LineString</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;LineString&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">Polygon</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;Polygon&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">Circle</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;Circle&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">Rectangle</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;Rectangle&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">Square</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;Square&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">freehandLine</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;freehandLine&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">            &lt;</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">value</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">freehandPolygon</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;freehandPolygon&lt;/</span><span style="color:#FF79C6;">option</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">          &lt;/</span><span style="color:#FF79C6;">select</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;/</span><span style="color:#FF79C6;">li</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;</span><span style="color:#FF79C6;">li</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">disable</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;Disable&lt;/</span><span style="color:#FF79C6;">li</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;</span><span style="color:#FF79C6;">li</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">id</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">clear</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;Clear&lt;/</span><span style="color:#FF79C6;">li</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      &lt;/</span><span style="color:#FF79C6;">ul</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#FF79C6;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> map </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.</span><span style="color:#50FA7B;">Map</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">        target</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">map</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        layers</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.layer.</span><span style="color:#50FA7B;">Tile</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">            source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.source.</span><span style="color:#50FA7B;">TileWMS</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">              url</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">http://xxx/geoserver/xxx/wms</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">              params</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">                LAYERS</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">xxx:xxx</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                TILED</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">              },</span></span>
<span class="line"><span style="color:#F8F8F2;">              serverType</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">geoserver</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">            })</span></span>
<span class="line"><span style="color:#F8F8F2;">          })</span></span>
<span class="line"><span style="color:#F8F8F2;">        ],</span></span>
<span class="line"><span style="color:#F8F8F2;">        view</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.</span><span style="color:#50FA7B;">View</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">          center</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> ol.proj.</span><span style="color:#50FA7B;">fromLonLat</span><span style="color:#F8F8F2;">([</span><span style="color:#BD93F9;">116.38</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">39.9</span><span style="color:#F8F8F2;">]),</span></span>
<span class="line"><span style="color:#F8F8F2;">          zoom</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">11</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          minZoom</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">6</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          maxZoom</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20</span></span>
<span class="line"><span style="color:#F8F8F2;">        }),</span></span>
<span class="line"><span style="color:#F8F8F2;">        controls</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.control.</span><span style="color:#50FA7B;">Zoom</span><span style="color:#F8F8F2;">(),</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.control.</span><span style="color:#50FA7B;">ScaleLine</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">            units</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">metric</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">            className</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ol-scale-line</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">          })</span></span>
<span class="line"><span style="color:#F8F8F2;">        ]</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> typeSelect </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#50FA7B;">getElementById</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">type</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> shape </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#50FA7B;">getElementById</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">shape</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">      shape.</span><span style="color:#50FA7B;">onmouseover</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">        typeSelect.style.display </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">block</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">        typeSelect.size </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">9</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      shape.</span><span style="color:#50FA7B;">onmouseout</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">        typeSelect.style.display </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">none</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> draw</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#6272A4;">// \u6DFB\u52A0\u4E00\u4E2A\u77E2\u91CF\u56FE\u5C42</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> vectorLayer </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.layer.</span><span style="color:#50FA7B;">Vector</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">        source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.source.</span><span style="color:#50FA7B;">Vector</span><span style="color:#F8F8F2;">(),</span></span>
<span class="line"><span style="color:#F8F8F2;">        style</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.style.</span><span style="color:#50FA7B;">Style</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// \u7EBF\u7684\u6837\u5F0F</span></span>
<span class="line"><span style="color:#F8F8F2;">          stroke</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.style.</span><span style="color:#50FA7B;">Stroke</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">            color</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">#000</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">            width</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2</span></span>
<span class="line"><span style="color:#F8F8F2;">          }),</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#6272A4;">// \u5C06\u70B9\u8BBE\u7F6E\u6210\u5706\u5F62\u6837\u5F0F</span></span>
<span class="line"><span style="color:#F8F8F2;">          image</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.style.</span><span style="color:#50FA7B;">Circle</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#6272A4;">// \u70B9\u7684\u989C\u8272</span></span>
<span class="line"><span style="color:#F8F8F2;">            fill</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.style.</span><span style="color:#50FA7B;">Fill</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">              color</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">#f00</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">            }),</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#6272A4;">// \u5706\u5F62\u534A\u5F84</span></span>
<span class="line"><span style="color:#F8F8F2;">            radius</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">5</span></span>
<span class="line"><span style="color:#F8F8F2;">          })</span></span>
<span class="line"><span style="color:#F8F8F2;">        })</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"><span style="color:#F8F8F2;">      map.</span><span style="color:#50FA7B;">addLayer</span><span style="color:#F8F8F2;">(vectorLayer)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">addInteraction</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> typeSelect.value</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> (value </span><span style="color:#FF79C6;">!==</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">none</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#FF79C6;">switch</span><span style="color:#F8F8F2;"> (value) {</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Point</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Point</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">LineString</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">LineString</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Polygon</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Polygon</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Circle</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Circle</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Rectangle</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Circle</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">(),</span></span>
<span class="line"><span style="color:#F8F8F2;">                geometryFunction</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> ol.interaction.Draw.</span><span style="color:#50FA7B;">createBox</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Square</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Circle</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">(),</span></span>
<span class="line"><span style="color:#F8F8F2;">                </span><span style="color:#6272A4;">// \u53C2\u6570 4 \u8868\u793A4\u6761\u8FB9\uFF0C\u6B64\u5904\u53EF\u968F\u610F\u8BBE\u7F6E\u591A\u8FB9\u5F62</span></span>
<span class="line"><span style="color:#F8F8F2;">                geometryFunction</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> ol.interaction.Draw.</span><span style="color:#50FA7B;">createRegularPolygon</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">freehandLine</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">LineString</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                freehand</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">, </span><span style="color:#6272A4;">// \u624B\u7ED8\u4EFB\u610F\u7EBF</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">case</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">freehandPolygon</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              draw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;font-style:italic;">new</span><span style="color:#F8F8F2;"> ol.interaction.</span><span style="color:#50FA7B;">Draw</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">                type</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Polygon</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                freehand</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">                source</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">              })</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">default</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#FF79C6;">break</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">          map.</span><span style="color:#50FA7B;">addInteraction</span><span style="color:#F8F8F2;">(draw)</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#6272A4;">// \u76D1\u542C\u9009\u62E9\u7684\u503C</span></span>
<span class="line"><span style="color:#F8F8F2;">      typeSelect.</span><span style="color:#50FA7B;">onchange</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">//\u5148\u79FB\u9664\u4E0A\u4E00\u4E2AInteraction</span></span>
<span class="line"><span style="color:#F8F8F2;">        map.</span><span style="color:#50FA7B;">removeInteraction</span><span style="color:#F8F8F2;">(draw)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">//\u518D\u6839\u636EtypeSelect\u7684\u503C\u7ED8\u5236\u65B0\u7684Interaction</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#50FA7B;">addInteraction</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#50FA7B;">addInteraction</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> disableDraw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#50FA7B;">getElementById</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">disable</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">      disableDraw.</span><span style="color:#50FA7B;">addEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">click</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">        map.</span><span style="color:#50FA7B;">removeInteraction</span><span style="color:#F8F8F2;">(draw)</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> clearDraw </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#50FA7B;">getElementById</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">clear</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">      clearDraw.</span><span style="color:#50FA7B;">addEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">click</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">// \u79FB\u9664\u77E2\u91CF\u56FE\u5C42\u6570\u636E</span></span>
<span class="line"><span style="color:#F8F8F2;">        vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">().</span><span style="color:#50FA7B;">clear</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">// \u79FB\u9664\u4EA4\u4E92</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">// map.removeInteraction(draw)</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#FF79C6;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#FF79C6;">body</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#FF79C6;">html</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u77E2\u91CF\u56FE\u5C42" tabindex="-1">\u77E2\u91CF\u56FE\u5C42 <a class="header-anchor" href="#\u77E2\u91CF\u56FE\u5C42" aria-hidden="true">#</a></h2><h3 id="\u5220\u9664\u77E2\u91CF\u56FE\u5C42" tabindex="-1">\u5220\u9664\u77E2\u91CF\u56FE\u5C42 <a class="header-anchor" href="#\u5220\u9664\u77E2\u91CF\u56FE\u5C42" aria-hidden="true">#</a></h3><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#6272A4;">// \u5FC5\u987B\u5148\u79FB\u9664\u77E2\u91CF\u56FE\u5C42\u6570\u636E</span></span>
<span class="line"><span style="color:#F8F8F2;">vectorLayer.</span><span style="color:#50FA7B;">getSource</span><span style="color:#F8F8F2;">().</span><span style="color:#50FA7B;">clear</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// \u5220\u9664\u56FE\u5C42</span></span>
<span class="line"><span style="color:#F8F8F2;">map.</span><span style="color:#50FA7B;">removeLayer</span><span style="color:#F8F8F2;">(vectorLayer)</span></span>
<span class="line"></span></code></pre></div>`,20),F=[o];function e(t,c,r,y,i,C){return a(),n("div",null,F)}const B=s(p,[["render",e]]);export{d as __pageData,B as default};
