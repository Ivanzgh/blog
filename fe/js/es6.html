<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 | zghIvan</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/blog/img/logo.png">
    <meta name="description" content="Blog">
    <link rel="preload" href="/blog/assets/css/0.styles.6597864f.css" as="style"><link rel="preload" href="/blog/assets/js/app.a6c89201.js" as="script"><link rel="preload" href="/blog/assets/js/2.d4704023.js" as="script"><link rel="preload" href="/blog/assets/js/43.80e52523.js" as="script"><link rel="preload" href="/blog/assets/js/3.5bee35fd.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.97aaaf10.js"><link rel="prefetch" href="/blog/assets/js/11.6f0983d8.js"><link rel="prefetch" href="/blog/assets/js/12.3c5fc150.js"><link rel="prefetch" href="/blog/assets/js/13.4cc737a3.js"><link rel="prefetch" href="/blog/assets/js/14.4b6a7573.js"><link rel="prefetch" href="/blog/assets/js/15.c873b6ef.js"><link rel="prefetch" href="/blog/assets/js/16.cd7f5a0c.js"><link rel="prefetch" href="/blog/assets/js/17.a21daa88.js"><link rel="prefetch" href="/blog/assets/js/18.a742704d.js"><link rel="prefetch" href="/blog/assets/js/19.06100e76.js"><link rel="prefetch" href="/blog/assets/js/20.49bf7ced.js"><link rel="prefetch" href="/blog/assets/js/21.f1296954.js"><link rel="prefetch" href="/blog/assets/js/22.70518755.js"><link rel="prefetch" href="/blog/assets/js/23.4b9d7cc9.js"><link rel="prefetch" href="/blog/assets/js/24.98dce4f1.js"><link rel="prefetch" href="/blog/assets/js/25.5dbcc84a.js"><link rel="prefetch" href="/blog/assets/js/26.e02df267.js"><link rel="prefetch" href="/blog/assets/js/27.2ad05932.js"><link rel="prefetch" href="/blog/assets/js/28.45c40f97.js"><link rel="prefetch" href="/blog/assets/js/29.ab3f98ac.js"><link rel="prefetch" href="/blog/assets/js/30.9fef8026.js"><link rel="prefetch" href="/blog/assets/js/31.ac3e38a5.js"><link rel="prefetch" href="/blog/assets/js/32.a2bbffe6.js"><link rel="prefetch" href="/blog/assets/js/33.ff61b93e.js"><link rel="prefetch" href="/blog/assets/js/34.70306266.js"><link rel="prefetch" href="/blog/assets/js/35.5a8f2bde.js"><link rel="prefetch" href="/blog/assets/js/36.916c2078.js"><link rel="prefetch" href="/blog/assets/js/37.9fe30f24.js"><link rel="prefetch" href="/blog/assets/js/38.e1c0cc39.js"><link rel="prefetch" href="/blog/assets/js/39.a18f0777.js"><link rel="prefetch" href="/blog/assets/js/4.f97b70dd.js"><link rel="prefetch" href="/blog/assets/js/40.7a7f617b.js"><link rel="prefetch" href="/blog/assets/js/41.e360889f.js"><link rel="prefetch" href="/blog/assets/js/42.859237a9.js"><link rel="prefetch" href="/blog/assets/js/44.224ffa6d.js"><link rel="prefetch" href="/blog/assets/js/45.36bc69cd.js"><link rel="prefetch" href="/blog/assets/js/46.50dcc6fd.js"><link rel="prefetch" href="/blog/assets/js/47.073ac057.js"><link rel="prefetch" href="/blog/assets/js/48.89ba3004.js"><link rel="prefetch" href="/blog/assets/js/49.fe714c71.js"><link rel="prefetch" href="/blog/assets/js/5.93f5fcb8.js"><link rel="prefetch" href="/blog/assets/js/50.c29d6445.js"><link rel="prefetch" href="/blog/assets/js/51.21bd62ca.js"><link rel="prefetch" href="/blog/assets/js/52.5f9608db.js"><link rel="prefetch" href="/blog/assets/js/53.29dc360e.js"><link rel="prefetch" href="/blog/assets/js/54.92f0fa39.js"><link rel="prefetch" href="/blog/assets/js/55.d0d325b4.js"><link rel="prefetch" href="/blog/assets/js/56.70198748.js"><link rel="prefetch" href="/blog/assets/js/57.e067ad39.js"><link rel="prefetch" href="/blog/assets/js/58.cdc81f1f.js"><link rel="prefetch" href="/blog/assets/js/59.616f73fb.js"><link rel="prefetch" href="/blog/assets/js/6.36cb3655.js"><link rel="prefetch" href="/blog/assets/js/60.f3b65f96.js"><link rel="prefetch" href="/blog/assets/js/61.cc9690bb.js"><link rel="prefetch" href="/blog/assets/js/62.6dfe9646.js"><link rel="prefetch" href="/blog/assets/js/63.e9c703bd.js"><link rel="prefetch" href="/blog/assets/js/64.37ed2792.js"><link rel="prefetch" href="/blog/assets/js/65.2370d510.js"><link rel="prefetch" href="/blog/assets/js/66.b992043e.js"><link rel="prefetch" href="/blog/assets/js/67.4a0b03c2.js"><link rel="prefetch" href="/blog/assets/js/68.0c28ae41.js"><link rel="prefetch" href="/blog/assets/js/69.42755e99.js"><link rel="prefetch" href="/blog/assets/js/7.b5a58c05.js"><link rel="prefetch" href="/blog/assets/js/70.c6a01d4e.js"><link rel="prefetch" href="/blog/assets/js/71.3e04798b.js"><link rel="prefetch" href="/blog/assets/js/72.93c9a1cf.js"><link rel="prefetch" href="/blog/assets/js/73.fc5079dd.js"><link rel="prefetch" href="/blog/assets/js/74.cc50916b.js"><link rel="prefetch" href="/blog/assets/js/75.d7e70b0b.js"><link rel="prefetch" href="/blog/assets/js/76.b4d6a24a.js"><link rel="prefetch" href="/blog/assets/js/8.8d8e5e06.js"><link rel="prefetch" href="/blog/assets/js/9.4ecea0ad.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6597864f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" alt="zghIvan" class="logo"> <span class="site-name can-hide">zghIvan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/js/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/ts/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/sass/" class="nav-link">
  Sass、Less
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/performance/" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/regular/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/mobile/" class="nav-link">
  移动端开发
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/plugin/" class="nav-link">
  前端插件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和库" class="dropdown-title"><span class="title">框架和库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架和库" class="mobile-dropdown-title"><span class="title">框架和库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/express/" class="nav-link">
  Express
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/wx/" class="nav-link">
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/npm/" class="nav-link">
  NPM
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/gulp/" class="nav-link">
  Gulp
</a></li><li class="dropdown-item"><!----> <a href="/blog/utils/" class="nav-link">
  Others
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/be/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/elasticsearch/" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/openstack/" class="nav-link">
  OpenStack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="可视化" class="dropdown-title"><span class="title">可视化</span> <span class="arrow down"></span></button> <button type="button" aria-label="可视化" class="mobile-dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vis/openlayers/" class="nav-link">
  OpenLayers
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/leaflet/" class="nav-link">
  Leaflet
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/geoserver/" class="nav-link">
  GeoServer
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/cesium/" class="nav-link">
  Cesium
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/three/" class="nav-link">
  Three
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/base/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/design-pattern/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><a href="/blog/thought/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/Ivanzgh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/js/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/ts/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/sass/" class="nav-link">
  Sass、Less
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/performance/" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/regular/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/mobile/" class="nav-link">
  移动端开发
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/plugin/" class="nav-link">
  前端插件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和库" class="dropdown-title"><span class="title">框架和库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架和库" class="mobile-dropdown-title"><span class="title">框架和库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/express/" class="nav-link">
  Express
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/wx/" class="nav-link">
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/npm/" class="nav-link">
  NPM
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/gulp/" class="nav-link">
  Gulp
</a></li><li class="dropdown-item"><!----> <a href="/blog/utils/" class="nav-link">
  Others
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/be/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/elasticsearch/" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-item"><!----> <a href="/blog/be/openstack/" class="nav-link">
  OpenStack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="可视化" class="dropdown-title"><span class="title">可视化</span> <span class="arrow down"></span></button> <button type="button" aria-label="可视化" class="mobile-dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vis/openlayers/" class="nav-link">
  OpenLayers
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/leaflet/" class="nav-link">
  Leaflet
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/geoserver/" class="nav-link">
  GeoServer
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/cesium/" class="nav-link">
  Cesium
</a></li><li class="dropdown-item"><!----> <a href="/blog/vis/three/" class="nav-link">
  Three
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/base/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/blog/base/design-pattern/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><a href="/blog/thought/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/Ivanzgh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/fe/js/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/blog/fe/js/dom.html" class="sidebar-link">DOM</a></li><li><a href="/blog/fe/js/json.html" class="sidebar-link">JSON</a></li><li><a href="/blog/fe/js/array.html" class="sidebar-link">数组</a></li><li><a href="/blog/fe/js/string.html" class="sidebar-link">字符串</a></li><li><a href="/blog/fe/js/object.html" class="sidebar-link">Object</a></li><li><a href="/blog/fe/js/ajax.html" class="sidebar-link">AJAX</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/fe/js/advanced.html" class="sidebar-link">进阶</a></li><li><a href="/blog/fe/js/oop.html" class="sidebar-link">面向对象</a></li><li><a href="/blog/fe/js/es6.html" aria-current="page" class="active sidebar-link">ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#let和const" class="sidebar-link">let和const</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#模板字符串" class="sidebar-link">模板字符串</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#解构赋值" class="sidebar-link">解构赋值</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#对象" class="sidebar-link">对象</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#set" class="sidebar-link">Set</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#map" class="sidebar-link">Map</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#操作符" class="sidebar-link">...操作符</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#class" class="sidebar-link">Class</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#async、await" class="sidebar-link">async、await</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#generator" class="sidebar-link">generator</a></li><li class="sidebar-sub-header"><a href="/blog/fe/js/es6.html#proxy" class="sidebar-link">Proxy</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工具函数</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/fe/js/utils.html" class="sidebar-link">老工具了</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6"><a href="#es6" class="header-anchor">#</a> ES6</h1> <h2 id="let和const"><a href="#let和const" class="header-anchor">#</a> let和const</h2> <h4 id="let"><a href="#let" class="header-anchor">#</a> let</h4> <p>用来声明变量，只在let命令所在的代码块内有效，即块级作用域。不存在变量提升，它所声明的变量一定要在声明后使用，不允许重复声明，否则报错。 举个例子：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">letTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">letTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ReferenceError: b is not defined</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="const"><a href="#const" class="header-anchor">#</a> const</h4> <p>const声明一个只读的常量。一旦声明，常量的值就不能改变。这意味着，const一旦声明变量，就必须立即初始化，不能留到后面赋值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a<span class="token punctuation">;</span>
<span class="token comment">//SyntaxError: Missing initializer in const declaration</span>
</code></pre></div><p>const的作用域与let命令相同：只在声明所在的块级作用域内有效。也不存在变量提升，不允许重复声明。</p> <p><strong>const本质并不是保证变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动</strong>。如果const后面的变量是普通变量，改变值报错。如果后面存储的是数组或者对象,那么改变它的指向也会报错，但是如果改变数组或者对象的值是不会发生错误的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">&quot;234&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// TypeError: Assignment to constant letiable.</span>
<span class="token keyword">const</span>  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// [1,2,3,4]</span>
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 改变数组的指向会出错 Uncaught TypeError: Assignment to constant letiable</span>
</code></pre></div><h2 id="模板字符串"><a href="#模板字符串" class="header-anchor">#</a> 模板字符串</h2> <p>模板字符串（templatestring）是增强版的字符串，用反引号(`),标识，嵌入的变量名写在${}之中。</p> <p>第一个用途，基本的字符串格式化。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 </span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'world'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
<span class="token comment">//ES6</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'world'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre></div><p>第二个用途，做多行字符串或者字符串一行行拼接。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// ES5</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;Hi \
    Girl!&quot;</span>
<span class="token comment">// ES6</span>
    <span class="token keyword">let</span> say <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;
        &lt;p&gt;hello, world&lt;/p&gt;
    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
</code></pre></div><p>ES6还提供了一些字符串方法，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1.includes：判断是否包含参数字符串，返回布尔值</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'welcome'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// 2.repeat: 获取字符串重复n次</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'he'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 'hehehe'</span>
    <span class="token comment">//如果带入小数, Math.floor(num) 来处理</span>
    <span class="token comment">// s.repeat(3.1) 或者 s.repeat(3.9) 都当做 s.repeat(3) 来处理</span>

<span class="token comment">// 3. startsWith 和 endsWith 判断是否以给定文本开始或者结束</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span>  <span class="token string">'hello world!'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h2> <h4 id="数组的解构赋值"><a href="#数组的解构赋值" class="header-anchor">#</a> 数组的解构赋值</h4> <p>可以从数组中提取值，按照对应位置，对变量赋值。这种写法属于“模式匹配”，只要等号两边的模式相同，左边的变量就会被赋予对应的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 1 2 3</span>
</code></pre></div><h4 id="对象的解构赋值"><a href="#对象的解构赋值" class="header-anchor">#</a> 对象的解构赋值</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'zgh'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">22</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//zgh 22</span>
</code></pre></div><p>注意：对象与数组解构的不同点：</p> <ul><li>数组的元素是按次序排列的，变量的取值由它的位置决定</li> <li>对象的属性没有次序，变量必须与属性同名，才能取到正确的值</li></ul> <h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <h4 id="为函数的参数设置默认值"><a href="#为函数的参数设置默认值" class="header-anchor">#</a> 为函数的参数设置默认值</h4> <p>在ES6里，可以给定义的函数接收的参数设置默认值，如果不指定该函数的参数的值，就会使用默认参数值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;zgh&quot;</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  zgh</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 22</span>
<span class="token punctuation">}</span>
<span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果在调用函数的时候传入实参，则会改变默认参数的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;zgh&quot;</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  Jack</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 20</span>
<span class="token punctuation">}</span>
<span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <h4 id="es6-允许使用-箭头-定义函数。"><a href="#es6-允许使用-箭头-定义函数。" class="header-anchor">#</a> ES6 允许使用“箭头”（=&gt;）定义函数。</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1.不带参数</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">//等同于</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//2.带一个参数</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">;</span>
<span class="token comment">//等同于</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//3.带多个参数,需要使用小括号将参数括起来</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token comment">//等同于</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//4.代码块部分多于一条语句需要用大括号将其括起来，并且使用return语句返回。</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> c <span class="token operator">=</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
    <span class="token keyword">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//5.返回对象，就必须用小括号把该对象括起来</span>
<span class="token keyword">let</span> <span class="token function-variable function">person</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;zgh&quot;</span><span class="token punctuation">,</span>age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//等同于</span>
<span class="token keyword">let</span> <span class="token function-variable function">person</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;zgh&quot;</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">22</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="箭头函数的this指向"><a href="#箭头函数的this指向" class="header-anchor">#</a> 箭头函数的this指向</h4> <p>箭头函数本身是没有this和arguments的，在箭头函数中引用this实际上是调用的是定义时的父执行上下文的this。简单对象（非函数）是没有执行上下文的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token function-variable function">f1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>
        <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> rs <span class="token operator">=</span> obj<span class="token punctuation">.</span>say<span class="token punctuation">;</span>
<span class="token function">rs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//f1执行时，say函数指向window，所以f1中的this指向window</span>
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//f1执行时，say函数指向obj，所以f1中的this指向obj</span>
</code></pre></div><h2 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h2> <h3 id="对象的简洁表示法"><a href="#对象的简洁表示法" class="header-anchor">#</a> 对象的简洁表示法</h3> <h4 id="属性的简写"><a href="#属性的简写" class="header-anchor">#</a> 属性的简写</h4> <p>条件：属性的值是一个变量，且变量名称和键名是一致的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;zgh&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>

<span class="token comment">//ES5写法</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span>name<span class="token punctuation">,</span>
    age<span class="token operator">:</span>age
<span class="token punctuation">}</span>

<span class="token comment">//ES6写法</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">,</span>
    age
<span class="token punctuation">}</span>
</code></pre></div><h4 id="方法的简写"><a href="#方法的简写" class="header-anchor">#</a> 方法的简写</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5写法</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">hello</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//ES6写法</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="set"><a href="#set" class="header-anchor">#</a> Set</h2> <p>Set对象是一组不重复的、无序的值的集合，可以往里面添加、删除、查询数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//声明一个Set对象</span>
<span class="token keyword">let</span> mySet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//添加元素</span>
mySet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mySet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mySet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//判断集合中是否存在一个元素1</span>
mySet<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 删除集合中的字符串</span>
mySet<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取集合中元素的数量</span>
mySet<span class="token punctuation">.</span>size<span class="token punctuation">;</span> 

<span class="token comment">//遍历</span>
mySet<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//删除集合中所有的元素</span>
mySet<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Set只存储唯一值，可用来数组去重</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> deduped <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// [1, 2, 3]</span>
</code></pre></div><h2 id="map"><a href="#map" class="header-anchor">#</a> Map</h2> <p>类似于对象，里面存放的也是键值对，区别在于：对象中的键名只能是字符串，如果使用map，它里面的键可以是任意值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//创建一个Map对象</span>
<span class="token keyword">let</span> myMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//添加键值对</span>
myMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">&quot;zgh&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//查看集合中元素的数量</span>
myMap<span class="token punctuation">.</span>size

<span class="token comment">//获取相应的键值</span>
myMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//删除一个键值对，然后再判断该键值对是否存在</span>
myMap<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//删除Map集合中所有的键值对</span>
myMap<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="操作符"><a href="#操作符" class="header-anchor">#</a> ...操作符</h2> <p>...是ES6中新添加的一种操作符，可以叫做spread（扩展）或者rest（剩余）</p> <p>rest (剩余操作符)一般会用在函数的参数里面。比如:想让一个函数支持更多的参数，参数的数量不受限制，这个时候就可以使用剩余操作符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Name</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y<span class="token punctuation">,</span><span class="token operator">...</span>z</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// a</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// b</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//[&quot;c&quot; &quot;d&quot; &quot;e&quot;]</span>
<span class="token punctuation">}</span>
<span class="token function">Name</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>剩余操作符后面的变量会变成一个数组，多余的参数会被放入这个数组中。</p> <p>spread（扩展运算符）用在数组的前面，作用就是将这个数组展开，展开后就变成了字符串。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span><span class="token operator">...</span>arr2<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// a b c d e</span>
</code></pre></div><p>使用拓展运算符展开一个新的对象，第二个对象的属性值会改写第一个对象的同名属性值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> object1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>c<span class="token operator">:</span><span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> object2 <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">,</span> c<span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">,</span> d<span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> merged <span class="token operator">=</span> <span class="token punctuation">{</span>…object1<span class="token punctuation">,</span> …object2<span class="token punctuation">}</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>merged<span class="token punctuation">)</span> <span class="token comment">// {a:1, b:30, c:40, d:50}</span>
</code></pre></div><h2 id="class"><a href="#class" class="header-anchor">#</a> Class</h2> <p>ES6提供了更接近传统语言的写法，引入了Class（类）这个概念，作为对象的模板。通过class关键字，可以定义类。基本上，ES6的class可以看作只是一个语法糖，它的绝大部分功能，ES5都可以做到，新的class写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 中使用面向对象</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;zgh&quot;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
<span class="token comment">//ES6 中使用面向对象</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;zgh&quot;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码定义了一个“类”，里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。也就是说，ES5的构造函数Person，对应ES6的Person类的构造方法。</p> <p>Person类除了构造方法，还定义了一个say方法。注意，定义“类”的方法的时候，前面不需要加上function这个关键字，直接把函数定义放进去了就可以了。另外，方法之间不需要逗号分隔，否则会报错。</p> <p><a href="https://segmentfault.com/a/1190000023516545" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000023516545<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="class继承"><a href="#class继承" class="header-anchor">#</a> Class继承</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">NBAPlayer</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>height</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁,身高</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">cm</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MVP</span> <span class="token keyword">extends</span> <span class="token class-name">NBAPlayer</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>height<span class="token punctuation">,</span>year</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>year <span class="token operator">=</span> year<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">showMVP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,在</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">获得MVP!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> r1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NBAPlayer</span><span class="token punctuation">(</span><span class="token string">&quot;科比&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;39&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;198&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
r1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> r2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MVP</span><span class="token punctuation">(</span><span class="token string">&quot;科比&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;39&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;198&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2010&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
r2<span class="token punctuation">.</span><span class="token function">showMVP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>extends关键字用于实现类之间的继承。子类继承父类的所有属性和方法，使用super可以调用父类的方法。</p> <h3 id="静态方法、静态属性"><a href="#静态方法、静态属性" class="header-anchor">#</a> 静态方法、静态属性</h3> <p>类相当于实例的原型，所有在类中定义的方法，都会被实例继承。如果在一个方法前加上<code>static</code>关键字，则这个方法不会被实例继承，
而是直接通过类来调用，这就是静态方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'666'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Foo<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// '666'</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
person<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// TypeError: person.f is not a function</span>
</code></pre></div><p>父类的静态方法可以被子类继承</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'666'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Bar<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// &quot;666&quot;</span>
</code></pre></div><p>静态方法也可以被<code>super</code>对象调用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'666'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Bar<span class="token punctuation">.</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// &quot;666&quot;</span>
</code></pre></div><p><strong>类的静态属性</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// es6写法</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">// es7写法，推荐这一种写法</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> prop <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Bar<span class="token punctuation">.</span>prop<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>类的实例属性</strong></p> <p>类的实例属性可以用等式，写入类的定义之中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">)</span>   <span class="token comment">// 1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>再看看react类组件写法，以前定义类的实例属性只能在<code>constructor</code>里面，现在可以写在外面</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>  
            count<span class="token operator">:</span> <span class="token number">0</span>  
        <span class="token punctuation">}</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    modalRef <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre></div><h2 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h2> <p>在promise之前代码过多的回调或者嵌套，可读性差、耦合度高、扩展性低。通过Promise机制，扁平化的代码机构，大大提高了代码可读性；
用同步编程的方式来编写异步代码，保存线性的代码逻辑，极大的降低了代码耦合性而提高了程序的可扩展性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token parameter">hi</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;HelloWorld&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;GoodBay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">Hello</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的代码实现的功能非常简单，Hello函数接受一个参数，如果为 true 就打印 &quot;Hello World!&quot;，如果为 false 就打印错误的信息。Hello 函数返回的是一个 Promise 对象。
在 Promise 对象当中有两个重要方法——resolve 和 reject。
resolve 方法可以使 Promise对象的状态改变成成功，同时传递一个参数用于后续成功后的操作，在这个例子当中就是 Hello World字符串
reject 方法则是将 Promise对象的状态改变为失败，同时将错误的信息传递到后续错误处理的操作</p> <h3 id="promise的三种状态"><a href="#promise的三种状态" class="header-anchor">#</a> Promise的三种状态</h3> <ul><li>resolved      可以理解为成功的状态</li> <li>rejected      可以理解为失败的状态</li> <li>pending       promise对象实例创建时候的初始状态</li></ul> <p>Hello函数的例子中的then方法就是根据Promise对象的状态来确定执行的操作，resolve 时执行第一个函数（onFulfilled），reject时执行第二个函数（onRejected）</p> <h4 id="catch方法"><a href="#catch方法" class="header-anchor">#</a> catch方法</h4> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span>  <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">ready</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ready<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;Kitty&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">Cat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value1<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;此时执行的是then方法中的第二个函数参数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>catch 方法是 then(onFulfilled, onRejected) 方法当中 onRejected 函数的一个简单的写法，也就是说可以写成then(fn).catch(fn)，相当于 then(fn).then(null, fn)。使用 catch 的写法比一般的写法更加清晰明确</p> <h4 id="all和race方法"><a href="#all和race方法" class="header-anchor">#</a> all和race方法</h4> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的例子模拟了传输两个数据需要不同的时长，虽然 p2 的速度比 p1 要快，但是 Promise.all 方法会按照数组里面的顺序将结果返回。Promise.race方法和Promise.all相类似，它同样接收一个数组，不同的是只要该数组中的Promise对象的状态发生变化（无论是 resolve 还是reject）该方法都会返回。</p> <h2 id="async、await"><a href="#async、await" class="header-anchor">#</a> async、await</h2> <p>async、await用来处理异步问题</p> <p>async放置在函数的前面，返回一个promise</p> <p>await只能在async函数里面使用，可以让js进行等待，直到一个promise执行并返回它的结果，js才会继续往下执行</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span>data      <span class="token comment">//  等待返回请求结果后才执行</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="https://segmentfault.com/a/1190000013292562?utm_source=channel-newest" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="generator"><a href="#generator" class="header-anchor">#</a> generator</h2> <p>Generator是一种异步编程解决方案，执行Generator函数会返回一个遍历器对象。两个特征：星号*、<code>yield</code>表达式</p> <p>调用函数返回一个指向内部状态的指针，即遍历器对象。必须调用遍历器的<code>next</code>方法，使得指针移向下一个状态。
<code>yield</code>表达式就是暂停标志</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'hello'</span>
    <span class="token keyword">yield</span> <span class="token string">'world'</span>
    <span class="token keyword">return</span> <span class="token string">'haha'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> ee <span class="token operator">=</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 函数并不会立即执行</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ee<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// g {&lt;suspended&gt;}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// {value: &quot;hello&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// {value: &quot;world&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// {value: &quot;haha&quot;, done: true}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// {value: undefined, done: true}</span>
</code></pre></div><p>遍历器对象<code>{value: &quot;hello&quot;, done: false}</code>表示value是<code>yield</code>表达式的值，<code>done: false</code>表示遍历还没有结束</p> <p>Generator 函数可以不用<code>yield</code>表达式，这时就变成了一个单纯的暂缓执行函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'666'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> g1 <span class="token operator">=</span> <span class="token function">gg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    g1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// 1s后输出666</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre></div><p><code>yield</code>表达式只能用在 Generator 函数里面</p> <h2 id="proxy"><a href="#proxy" class="header-anchor">#</a> Proxy</h2> <p>外界对目标对象的访问可以被Proxy拦截，进行过滤和改写，意为“代理器”</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>target 目标对象</li> <li>handler 配置对象</li></ul> <p>在ES6之前，我们可以使用<code>Object.defineProperty</code>去保护对象的私有属性。例如:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> sign <span class="token operator">=</span> <span class="token punctuation">{</span>
    _appid<span class="token operator">:</span> <span class="token string">&quot;12345678&quot;</span><span class="token punctuation">,</span>
    _appkey<span class="token operator">:</span> <span class="token string">&quot;666&quot;</span><span class="token punctuation">,</span>
    desc<span class="token operator">:</span> <span class="token string">&quot;zgh的密钥&quot;</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>sign<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    _appid<span class="token operator">:</span> <span class="token punctuation">{</span>
        writable<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    _appkey<span class="token operator">:</span> <span class="token punctuation">{</span>
        writable<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>但是如果想对多个属性进行保护，就得对多个属性进行声明<code>writable: false</code>，显然很麻烦，这时就可以用Proxy来解决这个问题</p> <p>Proxy意味着我们代理了这个对象，该对象所有的属性操作都会经过Proxy</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> sign <span class="token operator">=</span> <span class="token punctuation">{</span>
    _appid<span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    _appkey<span class="token operator">:</span> <span class="token string">&quot;666&quot;</span><span class="token punctuation">,</span>
    desc<span class="token operator">:</span> <span class="token string">&quot;zgh的密钥&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> signProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>sign<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> propName<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>propName <span class="token operator">!==</span> <span class="token string">&quot;desc&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;该属性是私有属性，不允许修改!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            target<span class="token punctuation">[</span>propName<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>signProxy<span class="token punctuation">.</span>_appid<span class="token punctuation">)</span>   <span class="token comment">// &quot;123456&quot;</span>
signProxy<span class="token punctuation">.</span>_appkey <span class="token operator">=</span> <span class="token string">'dd'</span>        <span class="token comment">// 该属性是私有属性，不允许修改!</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>signProxy<span class="token punctuation">.</span>_appkey<span class="token punctuation">)</span>  <span class="token comment">// &quot;666&quot;</span>
</code></pre></div><p>这时依然可以直接修改sign对象，如果希望对象完全不可修改，可以直接将sign写到Proxy的target</p> <p><strong>应用场景:</strong></p> <ul><li>数据校检</li> <li>属性保护</li></ul> <h3 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h3> <h4 id="数据类型验证"><a href="#数据类型验证" class="header-anchor">#</a> 数据类型验证</h4> <p>有一个记账的对象，记录着用户的存款金额，为了方便以后计算，要保证存入的数据类型必须为Number</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> account <span class="token operator">=</span> <span class="token punctuation">{</span>
    num<span class="token operator">:</span> <span class="token number">8888</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> proxyAccount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> propName<span class="token punctuation">,</span> propValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>propName <span class="token operator">===</span> <span class="token string">&quot;num&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> propValue <span class="token operator">!=</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'The num is not an number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        target<span class="token punctuation">[</span>propName<span class="token punctuation">]</span> <span class="token operator">=</span> propValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

proxyAccount<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token string">'666'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxyAccount<span class="token punctuation">.</span>num<span class="token punctuation">)</span>   <span class="token comment">// Uncaught TypeError: The num is not an number</span>
</code></pre></div><h4 id="简易版本vue双向数据绑定"><a href="#简易版本vue双向数据绑定" class="header-anchor">#</a> 简易版本Vue双向数据绑定</h4> <p>功能：通过v-model绑定一个值的同时，v-bind的dom元素可以实现双向数据绑定。</p> <p>代码如下:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    用户名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">is-number</span><span class="token punctuation">&gt;</span></span>
    密码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> container <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> proxyObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span>text<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> propName<span class="token punctuation">,</span> propValue<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> isCanEdit <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            container<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">dom</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;v-bind&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> propName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> propValue<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;v-model&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> propName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    dom<span class="token punctuation">.</span>value <span class="token operator">=</span> propValue<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            target<span class="token punctuation">[</span>propName<span class="token punctuation">]</span> <span class="token operator">=</span> propValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    container<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">dom</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;v-model&quot;</span><span class="token punctuation">)</span> <span class="token keyword">in</span> proxyObj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            dom<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                proxyObj<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;v-model&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>首先获取到所有的dom节点，然后使用<code>Proxy</code>代理<code>{text: &quot;&quot;, password: &quot;&quot;}</code>对象。
遍历所有的dom节点，如果某个节点有<code>v-model</code>属性，且属性值在代理对象中，那么就监听输入框的变化，
将该节点的值（input框内的值）赋值给代理对象对应的属性，从而实现简单的双向数据绑定</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><code>v-model</code>和<code>v-bind</code>的属性值要相同，如都是text或都是password</li> <li><code>dom.addEventListener(&quot;input&quot;, function() {})</code>这里不能使用箭头函数，否则this指向Window对象</li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/19/2020, 9:55:16 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/fe/js/oop.html" class="prev">
        面向对象
      </a></span> <span class="next"><a href="/blog/fe/js/utils.html">
        老工具了
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div data-v-d35f3b2e><div class="cat-container" style="display:;" data-v-d35f3b2e><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-d35f3b2e></canvas></div></div></div></div>
    <script src="/blog/assets/js/app.a6c89201.js" defer></script><script src="/blog/assets/js/2.d4704023.js" defer></script><script src="/blog/assets/js/43.80e52523.js" defer></script><script src="/blog/assets/js/3.5bee35fd.js" defer></script>
  </body>
</html>
